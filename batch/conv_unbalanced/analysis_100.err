INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: encode
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 2):sequential
INFO:latens:layer:(None, 2) -> (None, 28, 28, 1):sequential_1
2019-03-16 17:48:21.201285: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 17:48:21.489906: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:88:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 17:48:21.489986: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:48:21.964149: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:48:21.964216: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:48:21.964228: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:48:21.964519: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:88:00.0, compute capability: 3.7)
INFO:latens:restored model from models/unbalanced_mnist_conv_e300_L2_b64/autoencoder/cp-0300.hdf5
DEBUG:latens:encodings:
[[-0.08199691 -2.1936865 ]
 [ 0.9936505   0.06098321]
 [-1.2364422  -2.7386177 ]
 ...
 [ 0.03112567  0.02327641]
 [-0.12568134 -0.6271098 ]
 [ 0.00935077  0.02875597]]
INFO:latens:saved encodings to 'models/unbalanced_mnist_conv_e300_L2_b64/encodings.npy'
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: reconstruct
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 2):sequential
INFO:latens:layer:(None, 2) -> (None, 28, 28, 1):sequential_1
2019-03-16 17:48:37.909711: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 17:48:38.147952: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:88:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 17:48:38.148009: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:48:38.551584: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:48:38.551641: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:48:38.551653: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:48:38.551946: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:88:00.0, compute capability: 3.7)
INFO:latens:restored model from models/unbalanced_mnist_conv_e300_L2_b64/autoencoder/cp-0300.hdf5
2019-03-16 17:48:41.710307: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:48:41.710369: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:48:41.710382: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:48:41.710391: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:48:41.710535: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:88:00.0, compute capability: 3.7)
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: sample
INFO:latens:sampling with 'random'
DEBUG:latens:sampling: (50000,), 100
INFO:latens:writing dataset to models/unbalanced_mnist_conv_e300_L2_b64/random_sample_100.tfrecord...
2019-03-16 17:48:52.169191: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 17:48:52.396674: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:88:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 17:48:52.396750: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:48:52.842815: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:48:52.842878: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:48:52.842892: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:48:52.843232: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:88:00.0, compute capability: 3.7)
INFO:latens:wrote 100 examples
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: classifier
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 2):sequential
INFO:latens:layer:(None, 2) -> (None, 28, 28, 1):sequential_1
INFO:latens:model: sequential_4
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 64):conv2d_19
INFO:latens:layer:(None, 28, 28, 64) -> (None, 28, 28, 64):conv2d_20
INFO:latens:layer:(None, 28, 28, 64) -> (None, 14, 14, 64):max_pooling2d_2
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 64):dropout_4
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 32):conv2d_21
INFO:latens:layer:(None, 14, 14, 32) -> (None, 14, 14, 32):conv2d_22
INFO:latens:layer:(None, 14, 14, 32) -> (None, 7, 7, 32):max_pooling2d_3
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):dropout_5
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_23
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_24
INFO:latens:layer:(None, 7, 7, 32) -> (None, 1568):flatten_1
INFO:latens:layer:(None, 1568) -> (None, 1024):dense_6
INFO:latens:layer:(None, 1024) -> (None, 10):dense_7
2019-03-16 17:49:03.642940: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 17:49:03.858486: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:88:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 17:49:03.858555: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:49:04.244133: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:49:04.244207: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:49:04.244220: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:49:04.244518: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:88:00.0, compute capability: 3.7)
INFO:latens:test accuracy: 77.4%
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize
INFO:latens:visualizing and saving
INFO:latens:Plotting encoding...
DEBUG:latens:encodings: [[-0.08199691 -2.1936865 ]
 [ 0.9936505   0.06098321]
 [-1.2364422  -2.7386177 ]
 ...
 [ 0.03112567  0.02327641]
 [-0.12568134 -0.6271098 ]
 [ 0.00935077  0.02875597]]
INFO:latens:saving encodings plot to models/unbalanced_mnist_conv_e300_L2_b64/encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting sampling...
INFO:latens:saving sampling plot to models/unbalanced_mnist_conv_e300_L2_b64/random_sampling_100.pdf
INFO:latens:saving successful
INFO:latens:saving distribution plot to models/unbalanced_mnist_conv_e300_L2_b64/random_sampling_distribution_100.pdf
INFO:latens:saving successful
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: sample
INFO:latens:sampling with 'normal'
DEBUG:latens:sampler: drawing 100 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampling: (50000,), 100
INFO:latens:writing dataset to models/unbalanced_mnist_conv_e300_L2_b64/normal_sample_100.tfrecord...
2019-03-16 17:51:45.014383: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 17:51:45.242670: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:88:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 17:51:45.242735: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:51:45.691010: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:51:45.691074: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:51:45.691087: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:51:45.691429: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:88:00.0, compute capability: 3.7)
INFO:latens:wrote 100 examples
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: classifier
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 2):sequential
INFO:latens:layer:(None, 2) -> (None, 28, 28, 1):sequential_1
INFO:latens:model: sequential_4
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 64):conv2d_19
INFO:latens:layer:(None, 28, 28, 64) -> (None, 28, 28, 64):conv2d_20
INFO:latens:layer:(None, 28, 28, 64) -> (None, 14, 14, 64):max_pooling2d_2
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 64):dropout_4
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 32):conv2d_21
INFO:latens:layer:(None, 14, 14, 32) -> (None, 14, 14, 32):conv2d_22
INFO:latens:layer:(None, 14, 14, 32) -> (None, 7, 7, 32):max_pooling2d_3
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):dropout_5
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_23
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_24
INFO:latens:layer:(None, 7, 7, 32) -> (None, 1568):flatten_1
INFO:latens:layer:(None, 1568) -> (None, 1024):dense_6
INFO:latens:layer:(None, 1024) -> (None, 10):dense_7
2019-03-16 17:51:55.921806: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 17:51:56.142637: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:88:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 17:51:56.142701: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:51:56.537551: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:51:56.537617: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:51:56.537628: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:51:56.537914: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:88:00.0, compute capability: 3.7)
INFO:latens:test accuracy: 67.3%
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize
INFO:latens:visualizing and saving
INFO:latens:Plotting encoding...
DEBUG:latens:encodings: [[-0.08199691 -2.1936865 ]
 [ 0.9936505   0.06098321]
 [-1.2364422  -2.7386177 ]
 ...
 [ 0.03112567  0.02327641]
 [-0.12568134 -0.6271098 ]
 [ 0.00935077  0.02875597]]
INFO:latens:saving encodings plot to models/unbalanced_mnist_conv_e300_L2_b64/encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting sampling...
INFO:latens:saving sampling plot to models/unbalanced_mnist_conv_e300_L2_b64/normal_sampling_100.pdf
INFO:latens:saving successful
INFO:latens:saving distribution plot to models/unbalanced_mnist_conv_e300_L2_b64/normal_sampling_distribution_100.pdf
INFO:latens:saving successful
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: sample
INFO:latens:sampling with 'multi-normal'
DEBUG:latens:sampler: drawing 100 points
DEBUG:latens:sampling: (50000,), 100
INFO:latens:writing dataset to models/unbalanced_mnist_conv_e300_L2_b64/multi-normal_sample_100.tfrecord...
2019-03-16 17:54:37.882565: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 17:54:38.114236: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:88:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 17:54:38.114305: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:54:38.564679: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:54:38.564740: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:54:38.564753: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:54:38.565091: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:88:00.0, compute capability: 3.7)
INFO:latens:wrote 100 examples
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: classifier
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 2):sequential
INFO:latens:layer:(None, 2) -> (None, 28, 28, 1):sequential_1
INFO:latens:model: sequential_4
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 64):conv2d_19
INFO:latens:layer:(None, 28, 28, 64) -> (None, 28, 28, 64):conv2d_20
INFO:latens:layer:(None, 28, 28, 64) -> (None, 14, 14, 64):max_pooling2d_2
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 64):dropout_4
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 32):conv2d_21
INFO:latens:layer:(None, 14, 14, 32) -> (None, 14, 14, 32):conv2d_22
INFO:latens:layer:(None, 14, 14, 32) -> (None, 7, 7, 32):max_pooling2d_3
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):dropout_5
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_23
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_24
INFO:latens:layer:(None, 7, 7, 32) -> (None, 1568):flatten_1
INFO:latens:layer:(None, 1568) -> (None, 1024):dense_6
INFO:latens:layer:(None, 1024) -> (None, 10):dense_7
2019-03-16 17:54:49.087359: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 17:54:49.307026: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:88:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 17:54:49.307105: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:54:49.692823: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:54:49.692889: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:54:49.692901: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:54:49.693211: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:88:00.0, compute capability: 3.7)
INFO:latens:test accuracy: 66.3%
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize
INFO:latens:visualizing and saving
INFO:latens:Plotting encoding...
DEBUG:latens:encodings: [[-0.08199691 -2.1936865 ]
 [ 0.9936505   0.06098321]
 [-1.2364422  -2.7386177 ]
 ...
 [ 0.03112567  0.02327641]
 [-0.12568134 -0.6271098 ]
 [ 0.00935077  0.02875597]]
INFO:latens:saving encodings plot to models/unbalanced_mnist_conv_e300_L2_b64/encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting sampling...
INFO:latens:saving sampling plot to models/unbalanced_mnist_conv_e300_L2_b64/multi-normal_sampling_100.pdf
INFO:latens:saving successful
INFO:latens:saving distribution plot to models/unbalanced_mnist_conv_e300_L2_b64/multi-normal_sampling_distribution_100.pdf
INFO:latens:saving successful
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: sample
INFO:latens:sampling with 'uniform'
DEBUG:latens:sampler: drawing 100 points
DEBUG:latens:sampler: drawing 64 points
DEBUG:latens:sampler: drawing 40 points
DEBUG:latens:sampler: drawing 18 points
DEBUG:latens:sampler: drawing 14 points
DEBUG:latens:sampler: drawing 9 points
DEBUG:latens:sampler: drawing 8 points
DEBUG:latens:sampler: drawing 5 points
DEBUG:latens:sampler: drawing 5 points
DEBUG:latens:sampler: drawing 5 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampling: (50000,), 100
INFO:latens:writing dataset to models/unbalanced_mnist_conv_e300_L2_b64/uniform_sample_100.tfrecord...
2019-03-16 17:57:29.485179: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 17:57:29.716787: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:88:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 17:57:29.716855: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:57:30.147530: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:57:30.147593: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:57:30.147604: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:57:30.147889: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:88:00.0, compute capability: 3.7)
INFO:latens:wrote 100 examples
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: classifier
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 2):sequential
INFO:latens:layer:(None, 2) -> (None, 28, 28, 1):sequential_1
INFO:latens:model: sequential_4
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 64):conv2d_19
INFO:latens:layer:(None, 28, 28, 64) -> (None, 28, 28, 64):conv2d_20
INFO:latens:layer:(None, 28, 28, 64) -> (None, 14, 14, 64):max_pooling2d_2
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 64):dropout_4
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 32):conv2d_21
INFO:latens:layer:(None, 14, 14, 32) -> (None, 14, 14, 32):conv2d_22
INFO:latens:layer:(None, 14, 14, 32) -> (None, 7, 7, 32):max_pooling2d_3
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):dropout_5
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_23
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_24
INFO:latens:layer:(None, 7, 7, 32) -> (None, 1568):flatten_1
INFO:latens:layer:(None, 1568) -> (None, 1024):dense_6
INFO:latens:layer:(None, 1024) -> (None, 10):dense_7
2019-03-16 17:57:39.727429: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 17:57:39.974424: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:88:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 17:57:39.974488: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:57:40.380158: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:57:40.380226: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:57:40.380238: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:57:40.380523: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:88:00.0, compute capability: 3.7)
INFO:latens:test accuracy: 44.6%
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize
INFO:latens:visualizing and saving
INFO:latens:Plotting encoding...
DEBUG:latens:encodings: [[-0.08199691 -2.1936865 ]
 [ 0.9936505   0.06098321]
 [-1.2364422  -2.7386177 ]
 ...
 [ 0.03112567  0.02327641]
 [-0.12568134 -0.6271098 ]
 [ 0.00935077  0.02875597]]
INFO:latens:saving encodings plot to models/unbalanced_mnist_conv_e300_L2_b64/encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting sampling...
INFO:latens:saving sampling plot to models/unbalanced_mnist_conv_e300_L2_b64/uniform_sampling_100.pdf
INFO:latens:saving successful
INFO:latens:saving distribution plot to models/unbalanced_mnist_conv_e300_L2_b64/uniform_sampling_distribution_100.pdf
INFO:latens:saving successful
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: sample
INFO:latens:sampling with 'uniform-cluster'
INFO:latens:clustering...
Traceback (most recent call last):
  File "latens.py", line 824, in <module>
    main()
  File "latens.py", line 798, in main
    cmd_sample(lat)
  File "latens.py", line 483, in cmd_sample
    sampling = sampler(points)
  File "/project2/glk/latens/latens/sam.py", line 50, in __call__
    return self.sample(*args, **kwargs)
  File "/project2/glk/latens/latens/sam.py", line 248, in sample
    cluster_labels = self.cluster(points)
  File "/project2/glk/latens/latens/sam.py", line 230, in cluster
    self._cluster_labels = clustering.fit_predict(points)
  File "/software/Anaconda3-2018.12-el7-x86_64/envs/tf-gpu-1.12.0/lib/python3.6/site-packages/sklearn/base.py", line 355, in fit_predict
    self.fit(X)
  File "/software/Anaconda3-2018.12-el7-x86_64/envs/tf-gpu-1.12.0/lib/python3.6/site-packages/sklearn/cluster/hierarchical.py", line 831, in fit
    **kwargs)
  File "/software/Anaconda3-2018.12-el7-x86_64/envs/tf-gpu-1.12.0/lib/python3.6/site-packages/sklearn/externals/joblib/memory.py", line 342, in __call__
    return self.func(*args, **kwargs)
  File "/software/Anaconda3-2018.12-el7-x86_64/envs/tf-gpu-1.12.0/lib/python3.6/site-packages/sklearn/cluster/hierarchical.py", line 234, in ward_tree
    out = hierarchy.ward(X)
  File "/software/Anaconda3-2018.12-el7-x86_64/envs/tf-gpu-1.12.0/lib/python3.6/site-packages/scipy/cluster/hierarchy.py", line 482, in ward
    return linkage(y, method='ward', metric='euclidean')
  File "/software/Anaconda3-2018.12-el7-x86_64/envs/tf-gpu-1.12.0/lib/python3.6/site-packages/scipy/cluster/hierarchy.py", line 722, in linkage
    result = _hierarchy.nn_chain(y, n, method_code)
  File "_hierarchy.pyx", line 931, in scipy.cluster._hierarchy.nn_chain
  File "stringsource", line 248, in View.MemoryView.array_cwrapper
  File "stringsource", line 175, in View.MemoryView.array.__cinit__
MemoryError: unable to allocate array data.
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: classifier
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 2):sequential
INFO:latens:layer:(None, 2) -> (None, 28, 28, 1):sequential_1
INFO:latens:model: sequential_4
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 64):conv2d_19
INFO:latens:layer:(None, 28, 28, 64) -> (None, 28, 28, 64):conv2d_20
INFO:latens:layer:(None, 28, 28, 64) -> (None, 14, 14, 64):max_pooling2d_2
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 64):dropout_4
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 32):conv2d_21
INFO:latens:layer:(None, 14, 14, 32) -> (None, 14, 14, 32):conv2d_22
INFO:latens:layer:(None, 14, 14, 32) -> (None, 7, 7, 32):max_pooling2d_3
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):dropout_5
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_23
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_24
INFO:latens:layer:(None, 7, 7, 32) -> (None, 1568):flatten_1
INFO:latens:layer:(None, 1568) -> (None, 1024):dense_6
INFO:latens:layer:(None, 1024) -> (None, 10):dense_7
2019-03-16 18:00:47.607762: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 18:00:47.855751: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:88:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 18:00:47.855835: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 18:00:48.270452: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 18:00:48.270548: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 18:00:48.270560: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 18:00:48.270893: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:88:00.0, compute capability: 3.7)
Traceback (most recent call last):
  File "latens.py", line 824, in <module>
    main()
  File "latens.py", line 800, in main
    cmd_classifier(lat)
  File "latens.py", line 512, in cmd_classifier
    verbose=lat.keras_verbose)
  File "/project2/glk/latens/latens/mod.py", line 65, in fit
    return self.model.fit(*args, **kwargs)
  File "/software/Anaconda3-2018.12-el7-x86_64/envs/tf-gpu-1.12.0/lib/python3.6/site-packages/tensorflow/python/keras/engine/training.py", line 1639, in fit
    validation_steps=validation_steps)
  File "/software/Anaconda3-2018.12-el7-x86_64/envs/tf-gpu-1.12.0/lib/python3.6/site-packages/tensorflow/python/keras/engine/training_arrays.py", line 154, in fit_loop
    outs = f(ins)
  File "/software/Anaconda3-2018.12-el7-x86_64/envs/tf-gpu-1.12.0/lib/python3.6/site-packages/tensorflow/python/keras/backend.py", line 2986, in __call__
    run_metadata=self.run_metadata)
  File "/software/Anaconda3-2018.12-el7-x86_64/envs/tf-gpu-1.12.0/lib/python3.6/site-packages/tensorflow/python/client/session.py", line 1439, in __call__
    run_metadata_ptr)
  File "/software/Anaconda3-2018.12-el7-x86_64/envs/tf-gpu-1.12.0/lib/python3.6/site-packages/tensorflow/python/framework/errors_impl.py", line 528, in __exit__
    c_api.TF_GetCode(self.status.status))
tensorflow.python.framework.errors_impl.NotFoundError: models/unbalanced_mnist_conv_e300_L2_b64/uniform-cluster_sample_100.tfrecord; No such file or directory
	 [[{{node IteratorGetNext}} = IteratorGetNext[output_shapes=[[?,28,28,1], [?,10]], output_types=[DT_FLOAT, DT_FLOAT], _device="/job:localhost/replica:0/task:0/device:CPU:0"](IteratorV2)]]
	 [[{{node loss_2/dense_7_loss/broadcast_weights/assert_broadcastable/is_valid_shape/has_valid_nonscalar_shape/has_invalid_dims/num_invalid_dims/_243}} = _HostRecv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device_incarnation=1, tensor_name="edge_235_l...valid_dims", tensor_type=DT_INT32, _device="/job:localhost/replica:0/task:0/device:GPU:0"]()]]
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize
INFO:latens:visualizing and saving
INFO:latens:Plotting encoding...
DEBUG:latens:encodings: [[-0.08199691 -2.1936865 ]
 [ 0.9936505   0.06098321]
 [-1.2364422  -2.7386177 ]
 ...
 [ 0.03112567  0.02327641]
 [-0.12568134 -0.6271098 ]
 [ 0.00935077  0.02875597]]
INFO:latens:saving encodings plot to models/unbalanced_mnist_conv_e300_L2_b64/encodings.pdf
INFO:latens:saving successful
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: sample
INFO:latens:sampling with 'normal-cluster'
INFO:latens:clustering...
Traceback (most recent call last):
  File "latens.py", line 824, in <module>
    main()
  File "latens.py", line 798, in main
    cmd_sample(lat)
  File "latens.py", line 483, in cmd_sample
    sampling = sampler(points)
  File "/project2/glk/latens/latens/sam.py", line 50, in __call__
    return self.sample(*args, **kwargs)
  File "/project2/glk/latens/latens/sam.py", line 248, in sample
    cluster_labels = self.cluster(points)
  File "/project2/glk/latens/latens/sam.py", line 230, in cluster
    self._cluster_labels = clustering.fit_predict(points)
  File "/software/Anaconda3-2018.12-el7-x86_64/envs/tf-gpu-1.12.0/lib/python3.6/site-packages/sklearn/base.py", line 355, in fit_predict
    self.fit(X)
  File "/software/Anaconda3-2018.12-el7-x86_64/envs/tf-gpu-1.12.0/lib/python3.6/site-packages/sklearn/cluster/hierarchical.py", line 831, in fit
    **kwargs)
  File "/software/Anaconda3-2018.12-el7-x86_64/envs/tf-gpu-1.12.0/lib/python3.6/site-packages/sklearn/externals/joblib/memory.py", line 342, in __call__
    return self.func(*args, **kwargs)
  File "/software/Anaconda3-2018.12-el7-x86_64/envs/tf-gpu-1.12.0/lib/python3.6/site-packages/sklearn/cluster/hierarchical.py", line 234, in ward_tree
    out = hierarchy.ward(X)
  File "/software/Anaconda3-2018.12-el7-x86_64/envs/tf-gpu-1.12.0/lib/python3.6/site-packages/scipy/cluster/hierarchy.py", line 482, in ward
    return linkage(y, method='ward', metric='euclidean')
  File "/software/Anaconda3-2018.12-el7-x86_64/envs/tf-gpu-1.12.0/lib/python3.6/site-packages/scipy/cluster/hierarchy.py", line 722, in linkage
    result = _hierarchy.nn_chain(y, n, method_code)
  File "_hierarchy.pyx", line 931, in scipy.cluster._hierarchy.nn_chain
  File "stringsource", line 248, in View.MemoryView.array_cwrapper
  File "stringsource", line 175, in View.MemoryView.array.__cinit__
MemoryError: unable to allocate array data.
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: classifier
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 2):sequential
INFO:latens:layer:(None, 2) -> (None, 28, 28, 1):sequential_1
INFO:latens:model: sequential_4
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 64):conv2d_19
INFO:latens:layer:(None, 28, 28, 64) -> (None, 28, 28, 64):conv2d_20
INFO:latens:layer:(None, 28, 28, 64) -> (None, 14, 14, 64):max_pooling2d_2
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 64):dropout_4
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 32):conv2d_21
INFO:latens:layer:(None, 14, 14, 32) -> (None, 14, 14, 32):conv2d_22
INFO:latens:layer:(None, 14, 14, 32) -> (None, 7, 7, 32):max_pooling2d_3
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):dropout_5
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_23
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_24
INFO:latens:layer:(None, 7, 7, 32) -> (None, 1568):flatten_1
INFO:latens:layer:(None, 1568) -> (None, 1024):dense_6
INFO:latens:layer:(None, 1024) -> (None, 10):dense_7
2019-03-16 18:01:35.311230: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 18:01:35.553875: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:88:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 18:01:35.553955: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 18:01:35.962541: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 18:01:35.962635: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 18:01:35.962647: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 18:01:35.962960: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:88:00.0, compute capability: 3.7)
Traceback (most recent call last):
  File "latens.py", line 824, in <module>
    main()
  File "latens.py", line 800, in main
    cmd_classifier(lat)
  File "latens.py", line 512, in cmd_classifier
    verbose=lat.keras_verbose)
  File "/project2/glk/latens/latens/mod.py", line 65, in fit
    return self.model.fit(*args, **kwargs)
  File "/software/Anaconda3-2018.12-el7-x86_64/envs/tf-gpu-1.12.0/lib/python3.6/site-packages/tensorflow/python/keras/engine/training.py", line 1639, in fit
    validation_steps=validation_steps)
  File "/software/Anaconda3-2018.12-el7-x86_64/envs/tf-gpu-1.12.0/lib/python3.6/site-packages/tensorflow/python/keras/engine/training_arrays.py", line 154, in fit_loop
    outs = f(ins)
  File "/software/Anaconda3-2018.12-el7-x86_64/envs/tf-gpu-1.12.0/lib/python3.6/site-packages/tensorflow/python/keras/backend.py", line 2986, in __call__
    run_metadata=self.run_metadata)
  File "/software/Anaconda3-2018.12-el7-x86_64/envs/tf-gpu-1.12.0/lib/python3.6/site-packages/tensorflow/python/client/session.py", line 1439, in __call__
    run_metadata_ptr)
  File "/software/Anaconda3-2018.12-el7-x86_64/envs/tf-gpu-1.12.0/lib/python3.6/site-packages/tensorflow/python/framework/errors_impl.py", line 528, in __exit__
    c_api.TF_GetCode(self.status.status))
tensorflow.python.framework.errors_impl.NotFoundError: models/unbalanced_mnist_conv_e300_L2_b64/normal-cluster_sample_100.tfrecord; No such file or directory
	 [[{{node IteratorGetNext}} = IteratorGetNext[output_shapes=[[?,28,28,1], [?,10]], output_types=[DT_FLOAT, DT_FLOAT], _device="/job:localhost/replica:0/task:0/device:CPU:0"](IteratorV2)]]
	 [[{{node loss_2/dense_7_loss/broadcast_weights/assert_broadcastable/is_valid_shape/has_valid_nonscalar_shape/has_invalid_dims/num_invalid_dims/_243}} = _HostRecv[client_terminated=false, recv_device="/job:localhost/replica:0/task:0/device:GPU:0", send_device="/job:localhost/replica:0/task:0/device:CPU:0", send_device_incarnation=1, tensor_name="edge_235_l...valid_dims", tensor_type=DT_INT32, _device="/job:localhost/replica:0/task:0/device:GPU:0"]()]]
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize
INFO:latens:visualizing and saving
INFO:latens:Plotting encoding...
DEBUG:latens:encodings: [[-0.08199691 -2.1936865 ]
 [ 0.9936505   0.06098321]
 [-1.2364422  -2.7386177 ]
 ...
 [ 0.03112567  0.02327641]
 [-0.12568134 -0.6271098 ]
 [ 0.00935077  0.02875597]]
INFO:latens:saving encodings plot to models/unbalanced_mnist_conv_e300_L2_b64/encodings.pdf
INFO:latens:saving successful
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: sample
INFO:latens:sampling with 'multi-normal-cluster'
INFO:latens:clustering...
DEBUG:latens:sampler: drawing 8 points
DEBUG:latens:sampler: drawing 21 points
DEBUG:latens:sampler: drawing 4 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 11 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 14 points
DEBUG:latens:sampler: drawing 5 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 35 points
DEBUG:latens:sampling: (50000,), 100
INFO:latens:writing dataset to models/unbalanced_mnist_conv_e300_L2_b64/multi-normal-cluster_sample_100.tfrecord...
2019-03-16 18:03:46.086169: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 18:03:46.292895: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:88:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 18:03:46.292956: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 18:03:46.627791: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 18:03:46.627855: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 18:03:46.627866: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 18:03:46.628136: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:88:00.0, compute capability: 3.7)
INFO:latens:wrote 100 examples
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: classifier
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 2):sequential
INFO:latens:layer:(None, 2) -> (None, 28, 28, 1):sequential_1
INFO:latens:model: sequential_4
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 64):conv2d_19
INFO:latens:layer:(None, 28, 28, 64) -> (None, 28, 28, 64):conv2d_20
INFO:latens:layer:(None, 28, 28, 64) -> (None, 14, 14, 64):max_pooling2d_2
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 64):dropout_4
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 32):conv2d_21
INFO:latens:layer:(None, 14, 14, 32) -> (None, 14, 14, 32):conv2d_22
INFO:latens:layer:(None, 14, 14, 32) -> (None, 7, 7, 32):max_pooling2d_3
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):dropout_5
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_23
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_24
INFO:latens:layer:(None, 7, 7, 32) -> (None, 1568):flatten_1
INFO:latens:layer:(None, 1568) -> (None, 1024):dense_6
INFO:latens:layer:(None, 1024) -> (None, 10):dense_7
2019-03-16 18:03:58.033919: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 18:03:58.265366: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:88:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 18:03:58.265434: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 18:03:58.596288: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 18:03:58.596356: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 18:03:58.596368: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 18:03:58.596645: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:88:00.0, compute capability: 3.7)
INFO:latens:test accuracy: 79.6%
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize
INFO:latens:visualizing and saving
INFO:latens:Plotting encoding...
DEBUG:latens:encodings: [[-0.08199691 -2.1936865 ]
 [ 0.9936505   0.06098321]
 [-1.2364422  -2.7386177 ]
 ...
 [ 0.03112567  0.02327641]
 [-0.12568134 -0.6271098 ]
 [ 0.00935077  0.02875597]]
INFO:latens:saving encodings plot to models/unbalanced_mnist_conv_e300_L2_b64/encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting clusters...
INFO:latens:saving clustered encodings plot to models/unbalanced_mnist_conv_e300_L2_b64/clustered_encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting sampling...
INFO:latens:saving sampling plot to models/unbalanced_mnist_conv_e300_L2_b64/multi-normal-cluster_sampling_100.pdf
INFO:latens:saving successful
INFO:latens:saving distribution plot to models/unbalanced_mnist_conv_e300_L2_b64/multi-normal-cluster_sampling_distribution_100.pdf
INFO:latens:saving successful
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: sample
INFO:latens:sampling with 'error'
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 2):sequential
INFO:latens:layer:(None, 2) -> (None, 28, 28, 1):sequential_1
2019-03-16 18:06:43.721739: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 18:06:43.921882: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:88:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 18:06:43.921946: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 18:06:44.262718: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 18:06:44.262787: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 18:06:44.262800: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 18:06:44.263116: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:88:00.0, compute capability: 3.7)
INFO:latens:restored model from models/unbalanced_mnist_conv_e300_L2_b64/autoencoder/cp-0300.hdf5
2019-03-16 18:06:59.646124: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 18:06:59.646237: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 18:06:59.646252: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 18:06:59.646261: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 18:06:59.646467: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:88:00.0, compute capability: 3.7)
DEBUG:latens:points: (50000,), [0.1085237  0.07342014 0.09480702 ... 1.         1.         1.        ]
DEBUG:latens:values: (50000,)
DEBUG:latens:sampling: [0 0 0 ... 0 0 1]
DEBUG:latens:sampling: (50000,), 100
INFO:latens:writing dataset to models/unbalanced_mnist_conv_e300_L2_b64/error_sample_100.tfrecord...
2019-03-16 18:06:59.810199: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 18:06:59.810249: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 18:06:59.810262: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 18:06:59.810270: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 18:06:59.810436: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:88:00.0, compute capability: 3.7)
INFO:latens:wrote 100 examples
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: classifier
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 2):sequential
INFO:latens:layer:(None, 2) -> (None, 28, 28, 1):sequential_1
INFO:latens:model: sequential_4
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 64):conv2d_19
INFO:latens:layer:(None, 28, 28, 64) -> (None, 28, 28, 64):conv2d_20
INFO:latens:layer:(None, 28, 28, 64) -> (None, 14, 14, 64):max_pooling2d_2
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 64):dropout_4
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 32):conv2d_21
INFO:latens:layer:(None, 14, 14, 32) -> (None, 14, 14, 32):conv2d_22
INFO:latens:layer:(None, 14, 14, 32) -> (None, 7, 7, 32):max_pooling2d_3
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):dropout_5
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_23
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_24
INFO:latens:layer:(None, 7, 7, 32) -> (None, 1568):flatten_1
INFO:latens:layer:(None, 1568) -> (None, 1024):dense_6
INFO:latens:layer:(None, 1024) -> (None, 10):dense_7
2019-03-16 18:07:11.317659: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 18:07:11.522924: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:88:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 18:07:11.522991: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 18:07:11.915956: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 18:07:11.916024: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 18:07:11.916036: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 18:07:11.916338: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:88:00.0, compute capability: 3.7)
INFO:latens:test accuracy: 46.4%
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize
INFO:latens:visualizing and saving
INFO:latens:Plotting encoding...
DEBUG:latens:encodings: [[-0.08199691 -2.1936865 ]
 [ 0.9936505   0.06098321]
 [-1.2364422  -2.7386177 ]
 ...
 [ 0.03112567  0.02327641]
 [-0.12568134 -0.6271098 ]
 [ 0.00935077  0.02875597]]
INFO:latens:saving encodings plot to models/unbalanced_mnist_conv_e300_L2_b64/encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting sampling...
INFO:latens:saving sampling plot to models/unbalanced_mnist_conv_e300_L2_b64/error_sampling_100.pdf
INFO:latens:saving successful
INFO:latens:saving distribution plot to models/unbalanced_mnist_conv_e300_L2_b64/error_sampling_distribution_100.pdf
INFO:latens:saving successful
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize-classifiers
INFO:latens:saving hist losses plot to models/unbalanced_mnist_conv_e300_L2_b64/classifier_val_losses_1000.pdf
INFO:latens:saving successful
INFO:latens:saving hist losses plot to models/unbalanced_mnist_conv_e300_L2_b64/classifier_val_accs_1000.pdf
INFO:latens:saving successful
INFO:latens:saving hist losses plot to models/unbalanced_mnist_conv_e300_L2_b64/classifier_test_losses_1000.pdf
INFO:latens:saving successful
INFO:latens:saving hist losses plot to models/unbalanced_mnist_conv_e300_L2_b64/classifier_test_accs_1000.pdf
INFO:latens:saving successful
INFO:latens:test accs for conv:[0.9217754777070064, 0.6290804140127388, 0.9054538216560509, 0.8924164012738853, 0.9277468152866242, 0.5782245222929936]
