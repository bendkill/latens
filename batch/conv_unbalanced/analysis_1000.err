INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: encode
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 2):sequential
INFO:latens:layer:(None, 2) -> (None, 28, 28, 1):sequential_1
2019-03-16 16:43:46.872005: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 16:43:47.113225: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:88:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 16:43:47.113294: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 16:43:47.542308: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 16:43:47.542388: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 16:43:47.542400: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 16:43:47.542729: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:88:00.0, compute capability: 3.7)
INFO:latens:restored model from models/unbalanced_mnist_conv_e300_L2_b64/autoencoder/cp-0300.hdf5
DEBUG:latens:encodings:
[[-0.08199707 -2.1936858 ]
 [ 0.9936504   0.0609832 ]
 [-1.2364422  -2.7386174 ]
 ...
 [ 0.03112565  0.02327642]
 [-0.12568142 -0.6271099 ]
 [ 0.00935079  0.02875597]]
INFO:latens:saved encodings to 'models/unbalanced_mnist_conv_e300_L2_b64/encodings.npy'
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: reconstruct
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 2):sequential
INFO:latens:layer:(None, 2) -> (None, 28, 28, 1):sequential_1
2019-03-16 16:44:04.381053: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 16:44:04.624688: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:88:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 16:44:04.624754: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 16:44:05.033524: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 16:44:05.033581: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 16:44:05.033593: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 16:44:05.033894: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:88:00.0, compute capability: 3.7)
INFO:latens:restored model from models/unbalanced_mnist_conv_e300_L2_b64/autoencoder/cp-0300.hdf5
2019-03-16 16:44:08.244444: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 16:44:08.244514: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 16:44:08.244528: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 16:44:08.244538: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 16:44:08.244686: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:88:00.0, compute capability: 3.7)
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: sample
INFO:latens:sampling with 'random'
DEBUG:latens:sampling: (50000,), 1000
INFO:latens:writing dataset to models/unbalanced_mnist_conv_e300_L2_b64/random_sample_1000.tfrecord...
2019-03-16 16:44:18.670456: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 16:44:18.902892: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:88:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 16:44:18.902965: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 16:44:19.355957: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 16:44:19.356030: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 16:44:19.356044: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 16:44:19.356397: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:88:00.0, compute capability: 3.7)
INFO:latens:wrote 1000 examples
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: classifier
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 2):sequential
INFO:latens:layer:(None, 2) -> (None, 28, 28, 1):sequential_1
INFO:latens:model: sequential_4
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 64):conv2d_19
INFO:latens:layer:(None, 28, 28, 64) -> (None, 28, 28, 64):conv2d_20
INFO:latens:layer:(None, 28, 28, 64) -> (None, 14, 14, 64):max_pooling2d_2
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 64):dropout_4
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 32):conv2d_21
INFO:latens:layer:(None, 14, 14, 32) -> (None, 14, 14, 32):conv2d_22
INFO:latens:layer:(None, 14, 14, 32) -> (None, 7, 7, 32):max_pooling2d_3
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):dropout_5
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_23
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_24
INFO:latens:layer:(None, 7, 7, 32) -> (None, 1568):flatten_1
INFO:latens:layer:(None, 1568) -> (None, 1024):dense_6
INFO:latens:layer:(None, 1024) -> (None, 10):dense_7
2019-03-16 16:44:30.189074: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 16:44:30.407640: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:88:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 16:44:30.407711: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 16:44:30.805880: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 16:44:30.805953: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 16:44:30.805964: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 16:44:30.806283: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:88:00.0, compute capability: 3.7)
INFO:latens:test accuracy: 92.2%
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize
INFO:latens:visualizing and saving
INFO:latens:Plotting encoding...
DEBUG:latens:encodings: [[-0.08199707 -2.1936858 ]
 [ 0.9936504   0.0609832 ]
 [-1.2364422  -2.7386174 ]
 ...
 [ 0.03112565  0.02327642]
 [-0.12568142 -0.6271099 ]
 [ 0.00935079  0.02875597]]
INFO:latens:saving encodings plot to models/unbalanced_mnist_conv_e300_L2_b64/encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting sampling...
INFO:latens:saving sampling plot to models/unbalanced_mnist_conv_e300_L2_b64/random_sampling_1000.pdf
INFO:latens:saving successful
INFO:latens:saving distribution plot to models/unbalanced_mnist_conv_e300_L2_b64/random_sampling_distribution_1000.pdf
INFO:latens:saving successful
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: sample
INFO:latens:sampling with 'normal'
DEBUG:latens:sampler: drawing 1000 points
DEBUG:latens:sampling: (50000,), 1000
INFO:latens:writing dataset to models/unbalanced_mnist_conv_e300_L2_b64/normal_sample_1000.tfrecord...
2019-03-16 16:47:14.711986: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 16:47:14.930256: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:88:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 16:47:14.930323: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 16:47:15.309645: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 16:47:15.309712: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 16:47:15.309724: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 16:47:15.310012: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:88:00.0, compute capability: 3.7)
INFO:latens:wrote 1000 examples
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: classifier
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 2):sequential
INFO:latens:layer:(None, 2) -> (None, 28, 28, 1):sequential_1
INFO:latens:model: sequential_4
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 64):conv2d_19
INFO:latens:layer:(None, 28, 28, 64) -> (None, 28, 28, 64):conv2d_20
INFO:latens:layer:(None, 28, 28, 64) -> (None, 14, 14, 64):max_pooling2d_2
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 64):dropout_4
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 32):conv2d_21
INFO:latens:layer:(None, 14, 14, 32) -> (None, 14, 14, 32):conv2d_22
INFO:latens:layer:(None, 14, 14, 32) -> (None, 7, 7, 32):max_pooling2d_3
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):dropout_5
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_23
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_24
INFO:latens:layer:(None, 7, 7, 32) -> (None, 1568):flatten_1
INFO:latens:layer:(None, 1568) -> (None, 1024):dense_6
INFO:latens:layer:(None, 1024) -> (None, 10):dense_7
2019-03-16 16:47:26.216881: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 16:47:26.436278: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:88:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 16:47:26.436349: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 16:47:26.821834: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 16:47:26.821911: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 16:47:26.821923: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 16:47:26.822278: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:88:00.0, compute capability: 3.7)
INFO:latens:test accuracy: 89.5%
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize
INFO:latens:visualizing and saving
INFO:latens:Plotting encoding...
DEBUG:latens:encodings: [[-0.08199707 -2.1936858 ]
 [ 0.9936504   0.0609832 ]
 [-1.2364422  -2.7386174 ]
 ...
 [ 0.03112565  0.02327642]
 [-0.12568142 -0.6271099 ]
 [ 0.00935079  0.02875597]]
INFO:latens:saving encodings plot to models/unbalanced_mnist_conv_e300_L2_b64/encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting sampling...
INFO:latens:saving sampling plot to models/unbalanced_mnist_conv_e300_L2_b64/normal_sampling_1000.pdf
INFO:latens:saving successful
INFO:latens:saving distribution plot to models/unbalanced_mnist_conv_e300_L2_b64/normal_sampling_distribution_1000.pdf
INFO:latens:saving successful
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: sample
INFO:latens:sampling with 'multi-normal'
DEBUG:latens:sampler: drawing 1000 points
DEBUG:latens:sampling: (50000,), 1000
INFO:latens:writing dataset to models/unbalanced_mnist_conv_e300_L2_b64/multi-normal_sample_1000.tfrecord...
2019-03-16 16:50:16.422974: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 16:50:16.642203: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:88:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 16:50:16.642272: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 16:50:17.038951: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 16:50:17.039016: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 16:50:17.039027: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 16:50:17.039343: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:88:00.0, compute capability: 3.7)
INFO:latens:wrote 1000 examples
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: classifier
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 2):sequential
INFO:latens:layer:(None, 2) -> (None, 28, 28, 1):sequential_1
INFO:latens:model: sequential_4
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 64):conv2d_19
INFO:latens:layer:(None, 28, 28, 64) -> (None, 28, 28, 64):conv2d_20
INFO:latens:layer:(None, 28, 28, 64) -> (None, 14, 14, 64):max_pooling2d_2
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 64):dropout_4
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 32):conv2d_21
INFO:latens:layer:(None, 14, 14, 32) -> (None, 14, 14, 32):conv2d_22
INFO:latens:layer:(None, 14, 14, 32) -> (None, 7, 7, 32):max_pooling2d_3
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):dropout_5
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_23
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_24
INFO:latens:layer:(None, 7, 7, 32) -> (None, 1568):flatten_1
INFO:latens:layer:(None, 1568) -> (None, 1024):dense_6
INFO:latens:layer:(None, 1024) -> (None, 10):dense_7
2019-03-16 16:50:27.803532: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 16:50:28.030528: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:88:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 16:50:28.030598: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 16:50:28.434585: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 16:50:28.434651: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 16:50:28.434663: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 16:50:28.434976: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:88:00.0, compute capability: 3.7)
INFO:latens:test accuracy: 90.5%
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize
INFO:latens:visualizing and saving
INFO:latens:Plotting encoding...
DEBUG:latens:encodings: [[-0.08199707 -2.1936858 ]
 [ 0.9936504   0.0609832 ]
 [-1.2364422  -2.7386174 ]
 ...
 [ 0.03112565  0.02327642]
 [-0.12568142 -0.6271099 ]
 [ 0.00935079  0.02875597]]
INFO:latens:saving encodings plot to models/unbalanced_mnist_conv_e300_L2_b64/encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting sampling...
INFO:latens:saving sampling plot to models/unbalanced_mnist_conv_e300_L2_b64/multi-normal_sampling_1000.pdf
INFO:latens:saving successful
INFO:latens:saving distribution plot to models/unbalanced_mnist_conv_e300_L2_b64/multi-normal_sampling_distribution_1000.pdf
INFO:latens:saving successful
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: sample
INFO:latens:sampling with 'uniform'
DEBUG:latens:sampler: drawing 1000 points
DEBUG:latens:sampler: drawing 623 points
DEBUG:latens:sampler: drawing 402 points
DEBUG:latens:sampler: drawing 261 points
DEBUG:latens:sampler: drawing 169 points
DEBUG:latens:sampler: drawing 103 points
DEBUG:latens:sampler: drawing 70 points
DEBUG:latens:sampler: drawing 46 points
DEBUG:latens:sampler: drawing 29 points
DEBUG:latens:sampler: drawing 19 points
DEBUG:latens:sampler: drawing 13 points
DEBUG:latens:sampler: drawing 11 points
DEBUG:latens:sampler: drawing 6 points
DEBUG:latens:sampler: drawing 3 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampling: (50000,), 1000
INFO:latens:writing dataset to models/unbalanced_mnist_conv_e300_L2_b64/uniform_sample_1000.tfrecord...
2019-03-16 16:53:16.156549: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 16:53:16.394284: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:88:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 16:53:16.394347: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 16:53:16.773814: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 16:53:16.773875: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 16:53:16.773886: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 16:53:16.774190: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:88:00.0, compute capability: 3.7)
INFO:latens:wrote 1000 examples
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: classifier
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 2):sequential
INFO:latens:layer:(None, 2) -> (None, 28, 28, 1):sequential_1
INFO:latens:model: sequential_4
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 64):conv2d_19
INFO:latens:layer:(None, 28, 28, 64) -> (None, 28, 28, 64):conv2d_20
INFO:latens:layer:(None, 28, 28, 64) -> (None, 14, 14, 64):max_pooling2d_2
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 64):dropout_4
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 32):conv2d_21
INFO:latens:layer:(None, 14, 14, 32) -> (None, 14, 14, 32):conv2d_22
INFO:latens:layer:(None, 14, 14, 32) -> (None, 7, 7, 32):max_pooling2d_3
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):dropout_5
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_23
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_24
INFO:latens:layer:(None, 7, 7, 32) -> (None, 1568):flatten_1
INFO:latens:layer:(None, 1568) -> (None, 1024):dense_6
INFO:latens:layer:(None, 1024) -> (None, 10):dense_7
2019-03-16 16:53:27.335411: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 16:53:27.575439: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:88:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 16:53:27.575506: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 16:53:27.972703: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 16:53:27.972765: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 16:53:27.972778: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 16:53:27.973069: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:88:00.0, compute capability: 3.7)
INFO:latens:test accuracy: 62.9%
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize
INFO:latens:visualizing and saving
INFO:latens:Plotting encoding...
DEBUG:latens:encodings: [[-0.08199707 -2.1936858 ]
 [ 0.9936504   0.0609832 ]
 [-1.2364422  -2.7386174 ]
 ...
 [ 0.03112565  0.02327642]
 [-0.12568142 -0.6271099 ]
 [ 0.00935079  0.02875597]]
INFO:latens:saving encodings plot to models/unbalanced_mnist_conv_e300_L2_b64/encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting sampling...
INFO:latens:saving sampling plot to models/unbalanced_mnist_conv_e300_L2_b64/uniform_sampling_1000.pdf
INFO:latens:saving successful
INFO:latens:saving distribution plot to models/unbalanced_mnist_conv_e300_L2_b64/uniform_sampling_distribution_1000.pdf
INFO:latens:saving successful
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: sample
INFO:latens:sampling with 'uniform-cluster'
INFO:latens:clustering...
DEBUG:latens:sampler: drawing 79 points
DEBUG:latens:sampler: drawing 45 points
DEBUG:latens:sampler: drawing 32 points
DEBUG:latens:sampler: drawing 15 points
DEBUG:latens:sampler: drawing 10 points
DEBUG:latens:sampler: drawing 7 points
DEBUG:latens:sampler: drawing 3 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 213 points
DEBUG:latens:sampler: drawing 53 points
DEBUG:latens:sampler: drawing 13 points
DEBUG:latens:sampler: drawing 6 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 37 points
DEBUG:latens:sampler: drawing 15 points
DEBUG:latens:sampler: drawing 10 points
DEBUG:latens:sampler: drawing 4 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 107 points
DEBUG:latens:sampler: drawing 11 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 5 points
DEBUG:latens:sampler: drawing 3 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 15 points
DEBUG:latens:sampler: drawing 10 points
DEBUG:latens:sampler: drawing 6 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 5 points
DEBUG:latens:sampler: drawing 3 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 138 points
DEBUG:latens:sampler: drawing 15 points
DEBUG:latens:sampler: drawing 53 points
DEBUG:latens:sampler: drawing 11 points
DEBUG:latens:sampler: drawing 4 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 349 points
DEBUG:latens:sampler: drawing 42 points
DEBUG:latens:sampler: drawing 6 points
DEBUG:latens:sampling: (50000,), 1001
INFO:latens:writing dataset to models/unbalanced_mnist_conv_e300_L2_b64/uniform-cluster_sample_1000.tfrecord...
2019-03-16 16:58:12.991781: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 16:58:13.211178: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:88:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 16:58:13.211240: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 16:58:13.548402: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 16:58:13.548467: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 16:58:13.548478: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 16:58:13.548762: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:88:00.0, compute capability: 3.7)
INFO:latens:wrote 1001 examples
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: classifier
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 2):sequential
INFO:latens:layer:(None, 2) -> (None, 28, 28, 1):sequential_1
INFO:latens:model: sequential_4
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 64):conv2d_19
INFO:latens:layer:(None, 28, 28, 64) -> (None, 28, 28, 64):conv2d_20
INFO:latens:layer:(None, 28, 28, 64) -> (None, 14, 14, 64):max_pooling2d_2
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 64):dropout_4
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 32):conv2d_21
INFO:latens:layer:(None, 14, 14, 32) -> (None, 14, 14, 32):conv2d_22
INFO:latens:layer:(None, 14, 14, 32) -> (None, 7, 7, 32):max_pooling2d_3
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):dropout_5
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_23
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_24
INFO:latens:layer:(None, 7, 7, 32) -> (None, 1568):flatten_1
INFO:latens:layer:(None, 1568) -> (None, 1024):dense_6
INFO:latens:layer:(None, 1024) -> (None, 10):dense_7
2019-03-16 16:58:24.600864: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 16:58:24.816912: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:88:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 16:58:24.816975: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 16:58:25.153250: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 16:58:25.153316: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 16:58:25.153328: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 16:58:25.153610: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:88:00.0, compute capability: 3.7)
INFO:latens:test accuracy: 89.2%
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize
INFO:latens:visualizing and saving
INFO:latens:Plotting encoding...
DEBUG:latens:encodings: [[-0.08199707 -2.1936858 ]
 [ 0.9936504   0.0609832 ]
 [-1.2364422  -2.7386174 ]
 ...
 [ 0.03112565  0.02327642]
 [-0.12568142 -0.6271099 ]
 [ 0.00935079  0.02875597]]
INFO:latens:saving encodings plot to models/unbalanced_mnist_conv_e300_L2_b64/encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting clusters...
INFO:latens:saving clustered encodings plot to models/unbalanced_mnist_conv_e300_L2_b64/clustered_encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting sampling...
INFO:latens:saving sampling plot to models/unbalanced_mnist_conv_e300_L2_b64/uniform-cluster_sampling_1000.pdf
INFO:latens:saving successful
INFO:latens:saving distribution plot to models/unbalanced_mnist_conv_e300_L2_b64/uniform-cluster_sampling_distribution_1000.pdf
INFO:latens:saving successful
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: sample
INFO:latens:sampling with 'normal-cluster'
INFO:latens:clustering...
DEBUG:latens:sampler: drawing 79 points
DEBUG:latens:sampler: drawing 46 points
DEBUG:latens:sampler: drawing 27 points
DEBUG:latens:sampler: drawing 15 points
DEBUG:latens:sampler: drawing 11 points
DEBUG:latens:sampler: drawing 7 points
DEBUG:latens:sampler: drawing 4 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 213 points
DEBUG:latens:sampler: drawing 136 points
DEBUG:latens:sampler: drawing 76 points
DEBUG:latens:sampler: drawing 40 points
DEBUG:latens:sampler: drawing 26 points
DEBUG:latens:sampler: drawing 17 points
DEBUG:latens:sampler: drawing 9 points
DEBUG:latens:sampler: drawing 7 points
DEBUG:latens:sampler: drawing 5 points
DEBUG:latens:sampler: drawing 3 points
DEBUG:latens:sampler: drawing 3 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 37 points
DEBUG:latens:sampler: drawing 24 points
DEBUG:latens:sampler: drawing 18 points
DEBUG:latens:sampler: drawing 13 points
DEBUG:latens:sampler: drawing 10 points
DEBUG:latens:sampler: drawing 4 points
DEBUG:latens:sampler: drawing 3 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 107 points
DEBUG:latens:sampler: drawing 56 points
DEBUG:latens:sampler: drawing 23 points
DEBUG:latens:sampler: drawing 8 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 5 points
DEBUG:latens:sampler: drawing 4 points
DEBUG:latens:sampler: drawing 3 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 15 points
DEBUG:latens:sampler: drawing 10 points
DEBUG:latens:sampler: drawing 10 points
DEBUG:latens:sampler: drawing 10 points
DEBUG:latens:sampler: drawing 10 points
DEBUG:latens:sampler: drawing 9 points
DEBUG:latens:sampler: drawing 9 points
DEBUG:latens:sampler: drawing 7 points
DEBUG:latens:sampler: drawing 7 points
DEBUG:latens:sampler: drawing 6 points
DEBUG:latens:sampler: drawing 5 points
DEBUG:latens:sampler: drawing 5 points
DEBUG:latens:sampler: drawing 4 points
DEBUG:latens:sampler: drawing 4 points
DEBUG:latens:sampler: drawing 4 points
DEBUG:latens:sampler: drawing 3 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 5 points
DEBUG:latens:sampler: drawing 5 points
DEBUG:latens:sampler: drawing 3 points
DEBUG:latens:sampler: drawing 3 points
DEBUG:latens:sampler: drawing 3 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 138 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 53 points
DEBUG:latens:sampler: drawing 5 points
DEBUG:latens:sampler: drawing 349 points
DEBUG:latens:sampler: drawing 4 points
DEBUG:latens:sampling: (50000,), 1001
INFO:latens:writing dataset to models/unbalanced_mnist_conv_e300_L2_b64/normal-cluster_sample_1000.tfrecord...
2019-03-16 17:03:08.194612: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 17:03:08.432147: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:88:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 17:03:08.432254: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:03:08.817213: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:03:08.817277: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:03:08.817289: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:03:08.817590: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:88:00.0, compute capability: 3.7)
INFO:latens:wrote 1001 examples
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: classifier
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 2):sequential
INFO:latens:layer:(None, 2) -> (None, 28, 28, 1):sequential_1
INFO:latens:model: sequential_4
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 64):conv2d_19
INFO:latens:layer:(None, 28, 28, 64) -> (None, 28, 28, 64):conv2d_20
INFO:latens:layer:(None, 28, 28, 64) -> (None, 14, 14, 64):max_pooling2d_2
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 64):dropout_4
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 32):conv2d_21
INFO:latens:layer:(None, 14, 14, 32) -> (None, 14, 14, 32):conv2d_22
INFO:latens:layer:(None, 14, 14, 32) -> (None, 7, 7, 32):max_pooling2d_3
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):dropout_5
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_23
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_24
INFO:latens:layer:(None, 7, 7, 32) -> (None, 1568):flatten_1
INFO:latens:layer:(None, 1568) -> (None, 1024):dense_6
INFO:latens:layer:(None, 1024) -> (None, 10):dense_7
2019-03-16 17:03:20.626912: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 17:03:20.871053: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:88:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 17:03:20.871125: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:03:21.265918: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:03:21.265990: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:03:21.266002: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:03:21.266316: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:88:00.0, compute capability: 3.7)
INFO:latens:test accuracy: 91.8%
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize
INFO:latens:visualizing and saving
INFO:latens:Plotting encoding...
DEBUG:latens:encodings: [[-0.08199707 -2.1936858 ]
 [ 0.9936504   0.0609832 ]
 [-1.2364422  -2.7386174 ]
 ...
 [ 0.03112565  0.02327642]
 [-0.12568142 -0.6271099 ]
 [ 0.00935079  0.02875597]]
INFO:latens:saving encodings plot to models/unbalanced_mnist_conv_e300_L2_b64/encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting clusters...
INFO:latens:saving clustered encodings plot to models/unbalanced_mnist_conv_e300_L2_b64/clustered_encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting sampling...
INFO:latens:saving sampling plot to models/unbalanced_mnist_conv_e300_L2_b64/normal-cluster_sampling_1000.pdf
INFO:latens:saving successful
INFO:latens:saving distribution plot to models/unbalanced_mnist_conv_e300_L2_b64/normal-cluster_sampling_distribution_1000.pdf
INFO:latens:saving successful
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: sample
INFO:latens:sampling with 'multi-normal-cluster'
INFO:latens:clustering...
DEBUG:latens:sampler: drawing 79 points
DEBUG:latens:sampler: drawing 10 points
DEBUG:latens:sampler: drawing 3 points
DEBUG:latens:sampler: drawing 213 points
DEBUG:latens:sampler: drawing 16 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 37 points
DEBUG:latens:sampler: drawing 10 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 107 points
DEBUG:latens:sampler: drawing 5 points
DEBUG:latens:sampler: drawing 5 points
DEBUG:latens:sampler: drawing 3 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 15 points
DEBUG:latens:sampler: drawing 3 points
DEBUG:latens:sampler: drawing 5 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 138 points
DEBUG:latens:sampler: drawing 53 points
DEBUG:latens:sampler: drawing 349 points
DEBUG:latens:sampling: (50000,), 1001
INFO:latens:writing dataset to models/unbalanced_mnist_conv_e300_L2_b64/multi-normal-cluster_sample_1000.tfrecord...
2019-03-16 17:08:02.808333: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 17:08:03.026244: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:88:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 17:08:03.026311: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:08:03.363665: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:08:03.363731: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:08:03.363742: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:08:03.364024: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:88:00.0, compute capability: 3.7)
INFO:latens:wrote 1001 examples
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: classifier
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 2):sequential
INFO:latens:layer:(None, 2) -> (None, 28, 28, 1):sequential_1
INFO:latens:model: sequential_4
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 64):conv2d_19
INFO:latens:layer:(None, 28, 28, 64) -> (None, 28, 28, 64):conv2d_20
INFO:latens:layer:(None, 28, 28, 64) -> (None, 14, 14, 64):max_pooling2d_2
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 64):dropout_4
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 32):conv2d_21
INFO:latens:layer:(None, 14, 14, 32) -> (None, 14, 14, 32):conv2d_22
INFO:latens:layer:(None, 14, 14, 32) -> (None, 7, 7, 32):max_pooling2d_3
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):dropout_5
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_23
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_24
INFO:latens:layer:(None, 7, 7, 32) -> (None, 1568):flatten_1
INFO:latens:layer:(None, 1568) -> (None, 1024):dense_6
INFO:latens:layer:(None, 1024) -> (None, 10):dense_7
2019-03-16 17:08:14.619551: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 17:08:14.836706: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:88:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 17:08:14.836772: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:08:15.165569: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:08:15.165634: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:08:15.165645: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:08:15.165917: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:88:00.0, compute capability: 3.7)
INFO:latens:test accuracy: 92.8%
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize
INFO:latens:visualizing and saving
INFO:latens:Plotting encoding...
DEBUG:latens:encodings: [[-0.08199707 -2.1936858 ]
 [ 0.9936504   0.0609832 ]
 [-1.2364422  -2.7386174 ]
 ...
 [ 0.03112565  0.02327642]
 [-0.12568142 -0.6271099 ]
 [ 0.00935079  0.02875597]]
INFO:latens:saving encodings plot to models/unbalanced_mnist_conv_e300_L2_b64/encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting clusters...
INFO:latens:saving clustered encodings plot to models/unbalanced_mnist_conv_e300_L2_b64/clustered_encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting sampling...
INFO:latens:saving sampling plot to models/unbalanced_mnist_conv_e300_L2_b64/multi-normal-cluster_sampling_1000.pdf
INFO:latens:saving successful
INFO:latens:saving distribution plot to models/unbalanced_mnist_conv_e300_L2_b64/multi-normal-cluster_sampling_distribution_1000.pdf
INFO:latens:saving successful
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: sample
INFO:latens:sampling with 'error'
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 2):sequential
INFO:latens:layer:(None, 2) -> (None, 28, 28, 1):sequential_1
2019-03-16 17:11:00.647643: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 17:11:00.994445: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:88:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 17:11:00.994546: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:11:01.415834: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:11:01.415890: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:11:01.415904: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:11:01.416246: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:88:00.0, compute capability: 3.7)
INFO:latens:restored model from models/unbalanced_mnist_conv_e300_L2_b64/autoencoder/cp-0300.hdf5
2019-03-16 17:11:16.773630: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:11:16.773715: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:11:16.773728: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:11:16.773737: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:11:16.773932: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:88:00.0, compute capability: 3.7)
DEBUG:latens:points: (50000,), [0.10852372 0.07342011 0.09480704 ... 1.         1.         1.        ]
DEBUG:latens:values: (50000,)
DEBUG:latens:sampling: [0 0 0 ... 0 0 1]
DEBUG:latens:sampling: (50000,), 1000
INFO:latens:writing dataset to models/unbalanced_mnist_conv_e300_L2_b64/error_sample_1000.tfrecord...
2019-03-16 17:11:16.926534: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:11:16.926581: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:11:16.926593: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:11:16.926601: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:11:16.926789: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:88:00.0, compute capability: 3.7)
INFO:latens:wrote 1000 examples
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: classifier
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 2):sequential
INFO:latens:layer:(None, 2) -> (None, 28, 28, 1):sequential_1
INFO:latens:model: sequential_4
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 64):conv2d_19
INFO:latens:layer:(None, 28, 28, 64) -> (None, 28, 28, 64):conv2d_20
INFO:latens:layer:(None, 28, 28, 64) -> (None, 14, 14, 64):max_pooling2d_2
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 64):dropout_4
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 32):conv2d_21
INFO:latens:layer:(None, 14, 14, 32) -> (None, 14, 14, 32):conv2d_22
INFO:latens:layer:(None, 14, 14, 32) -> (None, 7, 7, 32):max_pooling2d_3
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):dropout_5
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_23
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_24
INFO:latens:layer:(None, 7, 7, 32) -> (None, 1568):flatten_1
INFO:latens:layer:(None, 1568) -> (None, 1024):dense_6
INFO:latens:layer:(None, 1024) -> (None, 10):dense_7
2019-03-16 17:11:28.438870: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 17:11:28.656626: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:88:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 17:11:28.656693: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:11:29.001108: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:11:29.001183: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:11:29.001196: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:11:29.001512: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:88:00.0, compute capability: 3.7)
INFO:latens:test accuracy: 57.8%
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize
INFO:latens:visualizing and saving
INFO:latens:Plotting encoding...
DEBUG:latens:encodings: [[-0.08199707 -2.1936858 ]
 [ 0.9936504   0.0609832 ]
 [-1.2364422  -2.7386174 ]
 ...
 [ 0.03112565  0.02327642]
 [-0.12568142 -0.6271099 ]
 [ 0.00935079  0.02875597]]
INFO:latens:saving encodings plot to models/unbalanced_mnist_conv_e300_L2_b64/encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting sampling...
INFO:latens:saving sampling plot to models/unbalanced_mnist_conv_e300_L2_b64/error_sampling_1000.pdf
INFO:latens:saving successful
INFO:latens:saving distribution plot to models/unbalanced_mnist_conv_e300_L2_b64/error_sampling_distribution_1000.pdf
INFO:latens:saving successful
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize-classifiers
INFO:latens:saving hist losses plot to models/unbalanced_mnist_conv_e300_L2_b64/classifier_val_losses_1000.pdf
INFO:latens:saving successful
INFO:latens:saving hist losses plot to models/unbalanced_mnist_conv_e300_L2_b64/classifier_val_accs_1000.pdf
INFO:latens:saving successful
INFO:latens:saving hist losses plot to models/unbalanced_mnist_conv_e300_L2_b64/classifier_test_losses_1000.pdf
INFO:latens:saving successful
INFO:latens:saving hist losses plot to models/unbalanced_mnist_conv_e300_L2_b64/classifier_test_accs_1000.pdf
INFO:latens:saving successful
INFO:latens:test accs for conv:[0.9217754777070064, 0.6290804140127388, 0.9054538216560509, 0.8924164012738853, 0.9277468152866242, 0.5782245222929936]
