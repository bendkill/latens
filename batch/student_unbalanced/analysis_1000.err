INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: encode
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 2):sequential
INFO:latens:layer:(None, 2) -> (None, 28, 28, 1):sequential_1
2019-03-16 16:44:06.320715: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 16:44:06.550394: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:09:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 16:44:06.550497: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 16:44:06.904778: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 16:44:06.904859: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 16:44:06.904871: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 16:44:06.905181: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:09:00.0, compute capability: 3.7)
INFO:latens:restored model from models/unbalanced_mnist_student_e300_L2_b64/autoencoder/cp-0300.hdf5
DEBUG:latens:encodings:
[[ 0.00288966 -0.01734706]
 [-0.01145698  0.00839806]
 [ 0.00488099 -0.01783506]
 ...
 [ 0.00060481 -0.00134413]
 [ 0.00840595 -0.00768716]
 [ 0.00152026 -0.00379746]]
INFO:latens:saved encodings to 'models/unbalanced_mnist_student_e300_L2_b64/encodings.npy'
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: reconstruct
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 2):sequential
INFO:latens:layer:(None, 2) -> (None, 28, 28, 1):sequential_1
2019-03-16 16:44:25.773012: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 16:44:25.995319: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:09:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 16:44:25.995387: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 16:44:26.339477: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 16:44:26.339584: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 16:44:26.339596: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 16:44:26.339912: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:09:00.0, compute capability: 3.7)
INFO:latens:restored model from models/unbalanced_mnist_student_e300_L2_b64/autoencoder/cp-0300.hdf5
2019-03-16 16:44:29.342679: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 16:44:29.342767: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 16:44:29.342780: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 16:44:29.342788: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 16:44:29.342897: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:09:00.0, compute capability: 3.7)
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: sample
INFO:latens:sampling with 'random'
DEBUG:latens:sampling: (50000,), 1000
INFO:latens:writing dataset to models/unbalanced_mnist_student_e300_L2_b64/random_sample_1000.tfrecord...
2019-03-16 16:44:40.307477: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 16:44:40.517001: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:09:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 16:44:40.517075: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 16:44:40.903120: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 16:44:40.903205: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 16:44:40.903219: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 16:44:40.903548: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:09:00.0, compute capability: 3.7)
INFO:latens:wrote 1000 examples
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: classifier
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 2):sequential
INFO:latens:layer:(None, 2) -> (None, 28, 28, 1):sequential_1
INFO:latens:model: sequential_4
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 64):conv2d_19
INFO:latens:layer:(None, 28, 28, 64) -> (None, 28, 28, 64):conv2d_20
INFO:latens:layer:(None, 28, 28, 64) -> (None, 14, 14, 64):max_pooling2d_2
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 64):dropout_4
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 32):conv2d_21
INFO:latens:layer:(None, 14, 14, 32) -> (None, 14, 14, 32):conv2d_22
INFO:latens:layer:(None, 14, 14, 32) -> (None, 7, 7, 32):max_pooling2d_3
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):dropout_5
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_23
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_24
INFO:latens:layer:(None, 7, 7, 32) -> (None, 1568):flatten_1
INFO:latens:layer:(None, 1568) -> (None, 1024):dense_6
INFO:latens:layer:(None, 1024) -> (None, 10):dense_7
2019-03-16 16:44:51.938887: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 16:44:52.139771: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:09:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 16:44:52.139846: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 16:44:52.451275: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 16:44:52.451357: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 16:44:52.451369: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 16:44:52.451618: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:09:00.0, compute capability: 3.7)
INFO:latens:test accuracy: 92.9%
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize
INFO:latens:visualizing and saving
INFO:latens:Plotting encoding...
DEBUG:latens:encodings: [[ 0.00288966 -0.01734706]
 [-0.01145698  0.00839806]
 [ 0.00488099 -0.01783506]
 ...
 [ 0.00060481 -0.00134413]
 [ 0.00840595 -0.00768716]
 [ 0.00152026 -0.00379746]]
INFO:latens:saving encodings plot to models/unbalanced_mnist_student_e300_L2_b64/encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting sampling...
INFO:latens:saving sampling plot to models/unbalanced_mnist_student_e300_L2_b64/random_sampling_1000.pdf
INFO:latens:saving successful
INFO:latens:saving distribution plot to models/unbalanced_mnist_student_e300_L2_b64/random_sampling_distribution_1000.pdf
INFO:latens:saving successful
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: sample
INFO:latens:sampling with 'normal'
DEBUG:latens:sampler: drawing 1000 points
DEBUG:latens:sampling: (50000,), 1000
INFO:latens:writing dataset to models/unbalanced_mnist_student_e300_L2_b64/normal_sample_1000.tfrecord...
2019-03-16 16:47:35.873556: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 16:47:36.076616: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:09:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 16:47:36.076688: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 16:47:36.415071: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 16:47:36.415184: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 16:47:36.415196: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 16:47:36.415478: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:09:00.0, compute capability: 3.7)
INFO:latens:wrote 1000 examples
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: classifier
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 2):sequential
INFO:latens:layer:(None, 2) -> (None, 28, 28, 1):sequential_1
INFO:latens:model: sequential_4
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 64):conv2d_19
INFO:latens:layer:(None, 28, 28, 64) -> (None, 28, 28, 64):conv2d_20
INFO:latens:layer:(None, 28, 28, 64) -> (None, 14, 14, 64):max_pooling2d_2
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 64):dropout_4
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 32):conv2d_21
INFO:latens:layer:(None, 14, 14, 32) -> (None, 14, 14, 32):conv2d_22
INFO:latens:layer:(None, 14, 14, 32) -> (None, 7, 7, 32):max_pooling2d_3
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):dropout_5
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_23
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_24
INFO:latens:layer:(None, 7, 7, 32) -> (None, 1568):flatten_1
INFO:latens:layer:(None, 1568) -> (None, 1024):dense_6
INFO:latens:layer:(None, 1024) -> (None, 10):dense_7
2019-03-16 16:47:47.528320: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 16:47:47.727172: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:09:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 16:47:47.727249: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 16:47:48.045224: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 16:47:48.045309: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 16:47:48.045322: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 16:47:48.045598: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:09:00.0, compute capability: 3.7)
INFO:latens:test accuracy: 92.2%
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize
INFO:latens:visualizing and saving
INFO:latens:Plotting encoding...
DEBUG:latens:encodings: [[ 0.00288966 -0.01734706]
 [-0.01145698  0.00839806]
 [ 0.00488099 -0.01783506]
 ...
 [ 0.00060481 -0.00134413]
 [ 0.00840595 -0.00768716]
 [ 0.00152026 -0.00379746]]
INFO:latens:saving encodings plot to models/unbalanced_mnist_student_e300_L2_b64/encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting sampling...
INFO:latens:saving sampling plot to models/unbalanced_mnist_student_e300_L2_b64/normal_sampling_1000.pdf
INFO:latens:saving successful
INFO:latens:saving distribution plot to models/unbalanced_mnist_student_e300_L2_b64/normal_sampling_distribution_1000.pdf
INFO:latens:saving successful
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: sample
INFO:latens:sampling with 'multi-normal'
DEBUG:latens:sampler: drawing 1000 points
DEBUG:latens:sampling: (50000,), 1000
INFO:latens:writing dataset to models/unbalanced_mnist_student_e300_L2_b64/multi-normal_sample_1000.tfrecord...
2019-03-16 16:50:31.217998: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 16:50:31.417185: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:09:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 16:50:31.417261: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 16:50:31.738996: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 16:50:31.739076: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 16:50:31.739088: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 16:50:31.739380: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:09:00.0, compute capability: 3.7)
INFO:latens:wrote 1000 examples
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: classifier
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 2):sequential
INFO:latens:layer:(None, 2) -> (None, 28, 28, 1):sequential_1
INFO:latens:model: sequential_4
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 64):conv2d_19
INFO:latens:layer:(None, 28, 28, 64) -> (None, 28, 28, 64):conv2d_20
INFO:latens:layer:(None, 28, 28, 64) -> (None, 14, 14, 64):max_pooling2d_2
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 64):dropout_4
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 32):conv2d_21
INFO:latens:layer:(None, 14, 14, 32) -> (None, 14, 14, 32):conv2d_22
INFO:latens:layer:(None, 14, 14, 32) -> (None, 7, 7, 32):max_pooling2d_3
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):dropout_5
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_23
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_24
INFO:latens:layer:(None, 7, 7, 32) -> (None, 1568):flatten_1
INFO:latens:layer:(None, 1568) -> (None, 1024):dense_6
INFO:latens:layer:(None, 1024) -> (None, 10):dense_7
2019-03-16 16:50:43.320579: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 16:50:43.522285: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:09:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 16:50:43.522362: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 16:50:43.853713: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 16:50:43.853799: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 16:50:43.853810: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 16:50:43.854077: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:09:00.0, compute capability: 3.7)
INFO:latens:test accuracy: 91.7%
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize
INFO:latens:visualizing and saving
INFO:latens:Plotting encoding...
DEBUG:latens:encodings: [[ 0.00288966 -0.01734706]
 [-0.01145698  0.00839806]
 [ 0.00488099 -0.01783506]
 ...
 [ 0.00060481 -0.00134413]
 [ 0.00840595 -0.00768716]
 [ 0.00152026 -0.00379746]]
INFO:latens:saving encodings plot to models/unbalanced_mnist_student_e300_L2_b64/encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting sampling...
INFO:latens:saving sampling plot to models/unbalanced_mnist_student_e300_L2_b64/multi-normal_sampling_1000.pdf
INFO:latens:saving successful
INFO:latens:saving distribution plot to models/unbalanced_mnist_student_e300_L2_b64/multi-normal_sampling_distribution_1000.pdf
INFO:latens:saving successful
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: sample
INFO:latens:sampling with 'uniform'
DEBUG:latens:sampler: drawing 1000 points
DEBUG:latens:sampling: (50000,), 1000
INFO:latens:writing dataset to models/unbalanced_mnist_student_e300_L2_b64/uniform_sample_1000.tfrecord...
2019-03-16 16:53:27.884435: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 16:53:28.086473: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:09:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 16:53:28.086547: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 16:53:28.414044: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 16:53:28.414152: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 16:53:28.414165: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 16:53:28.414465: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:09:00.0, compute capability: 3.7)
INFO:latens:wrote 1000 examples
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: classifier
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 2):sequential
INFO:latens:layer:(None, 2) -> (None, 28, 28, 1):sequential_1
INFO:latens:model: sequential_4
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 64):conv2d_19
INFO:latens:layer:(None, 28, 28, 64) -> (None, 28, 28, 64):conv2d_20
INFO:latens:layer:(None, 28, 28, 64) -> (None, 14, 14, 64):max_pooling2d_2
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 64):dropout_4
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 32):conv2d_21
INFO:latens:layer:(None, 14, 14, 32) -> (None, 14, 14, 32):conv2d_22
INFO:latens:layer:(None, 14, 14, 32) -> (None, 7, 7, 32):max_pooling2d_3
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):dropout_5
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_23
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_24
INFO:latens:layer:(None, 7, 7, 32) -> (None, 1568):flatten_1
INFO:latens:layer:(None, 1568) -> (None, 1024):dense_6
INFO:latens:layer:(None, 1024) -> (None, 10):dense_7
2019-03-16 16:53:40.049631: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 16:53:40.250612: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:09:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 16:53:40.250690: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 16:53:40.571045: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 16:53:40.571156: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 16:53:40.571169: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 16:53:40.571467: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:09:00.0, compute capability: 3.7)
INFO:latens:test accuracy: 85.7%
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize
INFO:latens:visualizing and saving
INFO:latens:Plotting encoding...
DEBUG:latens:encodings: [[ 0.00288966 -0.01734706]
 [-0.01145698  0.00839806]
 [ 0.00488099 -0.01783506]
 ...
 [ 0.00060481 -0.00134413]
 [ 0.00840595 -0.00768716]
 [ 0.00152026 -0.00379746]]
INFO:latens:saving encodings plot to models/unbalanced_mnist_student_e300_L2_b64/encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting sampling...
INFO:latens:saving sampling plot to models/unbalanced_mnist_student_e300_L2_b64/uniform_sampling_1000.pdf
INFO:latens:saving successful
INFO:latens:saving distribution plot to models/unbalanced_mnist_student_e300_L2_b64/uniform_sampling_distribution_1000.pdf
INFO:latens:saving successful
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: sample
INFO:latens:sampling with 'uniform-cluster'
INFO:latens:clustering...
DEBUG:latens:sampler: drawing 281 points
DEBUG:latens:sampler: drawing 131 points
DEBUG:latens:sampler: drawing 114 points
DEBUG:latens:sampler: drawing 129 points
DEBUG:latens:sampler: drawing 83 points
DEBUG:latens:sampler: drawing 44 points
DEBUG:latens:sampler: drawing 26 points
DEBUG:latens:sampler: drawing 95 points
DEBUG:latens:sampler: drawing 54 points
DEBUG:latens:sampler: drawing 43 points
DEBUG:latens:sampling: (50000,), 1000
INFO:latens:writing dataset to models/unbalanced_mnist_student_e300_L2_b64/uniform-cluster_sample_1000.tfrecord...
2019-03-16 16:58:01.909337: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 16:58:02.126396: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:09:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 16:58:02.126473: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 16:58:02.447936: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 16:58:02.448020: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 16:58:02.448032: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 16:58:02.448330: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:09:00.0, compute capability: 3.7)
INFO:latens:wrote 1000 examples
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: classifier
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 2):sequential
INFO:latens:layer:(None, 2) -> (None, 28, 28, 1):sequential_1
INFO:latens:model: sequential_4
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 64):conv2d_19
INFO:latens:layer:(None, 28, 28, 64) -> (None, 28, 28, 64):conv2d_20
INFO:latens:layer:(None, 28, 28, 64) -> (None, 14, 14, 64):max_pooling2d_2
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 64):dropout_4
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 32):conv2d_21
INFO:latens:layer:(None, 14, 14, 32) -> (None, 14, 14, 32):conv2d_22
INFO:latens:layer:(None, 14, 14, 32) -> (None, 7, 7, 32):max_pooling2d_3
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):dropout_5
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_23
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_24
INFO:latens:layer:(None, 7, 7, 32) -> (None, 1568):flatten_1
INFO:latens:layer:(None, 1568) -> (None, 1024):dense_6
INFO:latens:layer:(None, 1024) -> (None, 10):dense_7
2019-03-16 16:58:13.279034: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 16:58:13.499590: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:09:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 16:58:13.499661: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 16:58:13.821884: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 16:58:13.821971: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 16:58:13.821982: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 16:58:13.822293: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:09:00.0, compute capability: 3.7)
INFO:latens:test accuracy: 91.6%
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize
INFO:latens:visualizing and saving
INFO:latens:Plotting encoding...
DEBUG:latens:encodings: [[ 0.00288966 -0.01734706]
 [-0.01145698  0.00839806]
 [ 0.00488099 -0.01783506]
 ...
 [ 0.00060481 -0.00134413]
 [ 0.00840595 -0.00768716]
 [ 0.00152026 -0.00379746]]
INFO:latens:saving encodings plot to models/unbalanced_mnist_student_e300_L2_b64/encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting clusters...
INFO:latens:saving clustered encodings plot to models/unbalanced_mnist_student_e300_L2_b64/clustered_encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting sampling...
INFO:latens:saving sampling plot to models/unbalanced_mnist_student_e300_L2_b64/uniform-cluster_sampling_1000.pdf
INFO:latens:saving successful
INFO:latens:saving distribution plot to models/unbalanced_mnist_student_e300_L2_b64/uniform-cluster_sampling_distribution_1000.pdf
INFO:latens:saving successful
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: sample
INFO:latens:sampling with 'normal-cluster'
INFO:latens:clustering...
DEBUG:latens:sampler: drawing 281 points
DEBUG:latens:sampler: drawing 131 points
DEBUG:latens:sampler: drawing 114 points
DEBUG:latens:sampler: drawing 129 points
DEBUG:latens:sampler: drawing 83 points
DEBUG:latens:sampler: drawing 44 points
DEBUG:latens:sampler: drawing 26 points
DEBUG:latens:sampler: drawing 95 points
DEBUG:latens:sampler: drawing 54 points
DEBUG:latens:sampler: drawing 43 points
DEBUG:latens:sampling: (50000,), 1000
INFO:latens:writing dataset to models/unbalanced_mnist_student_e300_L2_b64/normal-cluster_sample_1000.tfrecord...
2019-03-16 17:02:36.523324: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 17:02:36.737743: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:09:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 17:02:36.737820: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:02:37.058756: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:02:37.058843: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:02:37.058855: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:02:37.059126: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:09:00.0, compute capability: 3.7)
INFO:latens:wrote 1000 examples
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: classifier
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 2):sequential
INFO:latens:layer:(None, 2) -> (None, 28, 28, 1):sequential_1
INFO:latens:model: sequential_4
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 64):conv2d_19
INFO:latens:layer:(None, 28, 28, 64) -> (None, 28, 28, 64):conv2d_20
INFO:latens:layer:(None, 28, 28, 64) -> (None, 14, 14, 64):max_pooling2d_2
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 64):dropout_4
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 32):conv2d_21
INFO:latens:layer:(None, 14, 14, 32) -> (None, 14, 14, 32):conv2d_22
INFO:latens:layer:(None, 14, 14, 32) -> (None, 7, 7, 32):max_pooling2d_3
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):dropout_5
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_23
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_24
INFO:latens:layer:(None, 7, 7, 32) -> (None, 1568):flatten_1
INFO:latens:layer:(None, 1568) -> (None, 1024):dense_6
INFO:latens:layer:(None, 1024) -> (None, 10):dense_7
2019-03-16 17:02:47.882189: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 17:02:48.099858: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:09:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 17:02:48.099933: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:02:48.420706: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:02:48.420792: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:02:48.420803: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:02:48.421063: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:09:00.0, compute capability: 3.7)
INFO:latens:test accuracy: 89.6%
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize
INFO:latens:visualizing and saving
INFO:latens:Plotting encoding...
DEBUG:latens:encodings: [[ 0.00288966 -0.01734706]
 [-0.01145698  0.00839806]
 [ 0.00488099 -0.01783506]
 ...
 [ 0.00060481 -0.00134413]
 [ 0.00840595 -0.00768716]
 [ 0.00152026 -0.00379746]]
INFO:latens:saving encodings plot to models/unbalanced_mnist_student_e300_L2_b64/encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting clusters...
INFO:latens:saving clustered encodings plot to models/unbalanced_mnist_student_e300_L2_b64/clustered_encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting sampling...
INFO:latens:saving sampling plot to models/unbalanced_mnist_student_e300_L2_b64/normal-cluster_sampling_1000.pdf
INFO:latens:saving successful
INFO:latens:saving distribution plot to models/unbalanced_mnist_student_e300_L2_b64/normal-cluster_sampling_distribution_1000.pdf
INFO:latens:saving successful
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: sample
INFO:latens:sampling with 'multi-normal-cluster'
INFO:latens:clustering...
DEBUG:latens:sampler: drawing 281 points
DEBUG:latens:sampler: drawing 131 points
DEBUG:latens:sampler: drawing 114 points
DEBUG:latens:sampler: drawing 129 points
DEBUG:latens:sampler: drawing 83 points
DEBUG:latens:sampler: drawing 44 points
DEBUG:latens:sampler: drawing 26 points
DEBUG:latens:sampler: drawing 95 points
DEBUG:latens:sampler: drawing 54 points
DEBUG:latens:sampler: drawing 43 points
DEBUG:latens:sampling: (50000,), 1000
INFO:latens:writing dataset to models/unbalanced_mnist_student_e300_L2_b64/multi-normal-cluster_sample_1000.tfrecord...
2019-03-16 17:07:13.398271: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 17:07:13.613762: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:09:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 17:07:13.613832: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:07:13.934388: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:07:13.934477: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:07:13.934489: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:07:13.934748: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:09:00.0, compute capability: 3.7)
INFO:latens:wrote 1000 examples
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: classifier
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 2):sequential
INFO:latens:layer:(None, 2) -> (None, 28, 28, 1):sequential_1
INFO:latens:model: sequential_4
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 64):conv2d_19
INFO:latens:layer:(None, 28, 28, 64) -> (None, 28, 28, 64):conv2d_20
INFO:latens:layer:(None, 28, 28, 64) -> (None, 14, 14, 64):max_pooling2d_2
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 64):dropout_4
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 32):conv2d_21
INFO:latens:layer:(None, 14, 14, 32) -> (None, 14, 14, 32):conv2d_22
INFO:latens:layer:(None, 14, 14, 32) -> (None, 7, 7, 32):max_pooling2d_3
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):dropout_5
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_23
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_24
INFO:latens:layer:(None, 7, 7, 32) -> (None, 1568):flatten_1
INFO:latens:layer:(None, 1568) -> (None, 1024):dense_6
INFO:latens:layer:(None, 1024) -> (None, 10):dense_7
2019-03-16 17:07:25.137493: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 17:07:25.359114: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:09:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 17:07:25.359188: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:07:25.678239: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:07:25.678326: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:07:25.678338: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:07:25.678600: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:09:00.0, compute capability: 3.7)
INFO:latens:test accuracy: 92.4%
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize
INFO:latens:visualizing and saving
INFO:latens:Plotting encoding...
DEBUG:latens:encodings: [[ 0.00288966 -0.01734706]
 [-0.01145698  0.00839806]
 [ 0.00488099 -0.01783506]
 ...
 [ 0.00060481 -0.00134413]
 [ 0.00840595 -0.00768716]
 [ 0.00152026 -0.00379746]]
INFO:latens:saving encodings plot to models/unbalanced_mnist_student_e300_L2_b64/encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting clusters...
INFO:latens:saving clustered encodings plot to models/unbalanced_mnist_student_e300_L2_b64/clustered_encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting sampling...
INFO:latens:saving sampling plot to models/unbalanced_mnist_student_e300_L2_b64/multi-normal-cluster_sampling_1000.pdf
INFO:latens:saving successful
INFO:latens:saving distribution plot to models/unbalanced_mnist_student_e300_L2_b64/multi-normal-cluster_sampling_distribution_1000.pdf
INFO:latens:saving successful
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: sample
INFO:latens:sampling with 'error'
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 2):sequential
INFO:latens:layer:(None, 2) -> (None, 28, 28, 1):sequential_1
2019-03-16 17:10:10.838752: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 17:10:11.043114: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:09:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 17:10:11.043183: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:10:11.381764: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:10:11.381856: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:10:11.381868: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:10:11.382171: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:09:00.0, compute capability: 3.7)
INFO:latens:restored model from models/unbalanced_mnist_student_e300_L2_b64/autoencoder/cp-0300.hdf5
2019-03-16 17:10:26.667102: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:10:26.667208: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:10:26.667223: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:10:26.667231: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:10:26.667413: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:09:00.0, compute capability: 3.7)
DEBUG:latens:points: (50000,), [0.11236519 0.07631562 0.12320069 ... 1.         1.         1.        ]
DEBUG:latens:values: (50000,)
DEBUG:latens:sampling: [0 0 0 ... 0 0 1]
DEBUG:latens:sampling: (50000,), 1000
INFO:latens:writing dataset to models/unbalanced_mnist_student_e300_L2_b64/error_sample_1000.tfrecord...
2019-03-16 17:10:26.835507: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:10:26.835551: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:10:26.835564: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:10:26.835572: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:10:26.835712: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:09:00.0, compute capability: 3.7)
INFO:latens:wrote 1000 examples
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: classifier
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 2):sequential
INFO:latens:layer:(None, 2) -> (None, 28, 28, 1):sequential_1
INFO:latens:model: sequential_4
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 64):conv2d_19
INFO:latens:layer:(None, 28, 28, 64) -> (None, 28, 28, 64):conv2d_20
INFO:latens:layer:(None, 28, 28, 64) -> (None, 14, 14, 64):max_pooling2d_2
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 64):dropout_4
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 32):conv2d_21
INFO:latens:layer:(None, 14, 14, 32) -> (None, 14, 14, 32):conv2d_22
INFO:latens:layer:(None, 14, 14, 32) -> (None, 7, 7, 32):max_pooling2d_3
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):dropout_5
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_23
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_24
INFO:latens:layer:(None, 7, 7, 32) -> (None, 1568):flatten_1
INFO:latens:layer:(None, 1568) -> (None, 1024):dense_6
INFO:latens:layer:(None, 1024) -> (None, 10):dense_7
2019-03-16 17:10:39.436797: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 17:10:39.637787: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:09:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 17:10:39.637860: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:10:39.955410: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:10:39.955499: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:10:39.955511: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:10:39.955796: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:09:00.0, compute capability: 3.7)
INFO:latens:test accuracy: 57.9%
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize
INFO:latens:visualizing and saving
INFO:latens:Plotting encoding...
DEBUG:latens:encodings: [[ 0.00288966 -0.01734706]
 [-0.01145698  0.00839806]
 [ 0.00488099 -0.01783506]
 ...
 [ 0.00060481 -0.00134413]
 [ 0.00840595 -0.00768716]
 [ 0.00152026 -0.00379746]]
INFO:latens:saving encodings plot to models/unbalanced_mnist_student_e300_L2_b64/encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting sampling...
INFO:latens:saving sampling plot to models/unbalanced_mnist_student_e300_L2_b64/error_sampling_1000.pdf
INFO:latens:saving successful
INFO:latens:saving distribution plot to models/unbalanced_mnist_student_e300_L2_b64/error_sampling_distribution_1000.pdf
INFO:latens:saving successful
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize-classifiers
INFO:latens:saving hist losses plot to models/unbalanced_mnist_student_e300_L2_b64/classifier_val_losses_1000.pdf
INFO:latens:saving successful
INFO:latens:saving hist losses plot to models/unbalanced_mnist_student_e300_L2_b64/classifier_val_accs_1000.pdf
INFO:latens:saving successful
INFO:latens:saving hist losses plot to models/unbalanced_mnist_student_e300_L2_b64/classifier_test_losses_1000.pdf
INFO:latens:saving successful
INFO:latens:saving hist losses plot to models/unbalanced_mnist_student_e300_L2_b64/classifier_test_accs_1000.pdf
INFO:latens:saving successful
INFO:latens:test accs for student:[0.9294386942675159, 0.8569864649681529, 0.9171974522292994, 0.9163017515923567, 0.9241640127388535, 0.5793192675159236]
