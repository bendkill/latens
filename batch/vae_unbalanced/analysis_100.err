INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: encode
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 4):sequential
INFO:latens:layer:(None, 4) -> (None, 28, 28, 1):sequential_1
2019-03-16 17:47:46.264311: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 17:47:46.502833: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:08:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 17:47:46.502903: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:47:46.869895: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:47:46.869970: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:47:46.869981: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:47:46.870252: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:08:00.0, compute capability: 3.7)
INFO:latens:restored model from models/unbalanced_mnist_vae_e300_L2_b64/autoencoder/cp-0300.hdf5
DEBUG:latens:encodings:
[[-0.10630204  0.09192346]
 [ 0.58648795  0.61173207]
 [-0.31794474  0.08917618]
 ...
 [ 0.32951447 -0.22894156]
 [-0.02220009 -0.18873315]
 [ 0.27966675 -0.19121373]]
INFO:latens:saved encodings to 'models/unbalanced_mnist_vae_e300_L2_b64/encodings.npy'
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: reconstruct
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 4):sequential
INFO:latens:layer:(None, 4) -> (None, 28, 28, 1):sequential_1
2019-03-16 17:48:04.943832: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 17:48:05.190592: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:08:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 17:48:05.190659: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:48:05.566562: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:48:05.566627: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:48:05.566637: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:48:05.566916: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:08:00.0, compute capability: 3.7)
INFO:latens:restored model from models/unbalanced_mnist_vae_e300_L2_b64/autoencoder/cp-0300.hdf5
2019-03-16 17:48:09.556701: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:48:09.556760: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:48:09.556773: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:48:09.556782: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:48:09.556907: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:08:00.0, compute capability: 3.7)
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: sample
INFO:latens:sampling with 'random'
DEBUG:latens:sampling: (50000,), 100
INFO:latens:writing dataset to models/unbalanced_mnist_vae_e300_L2_b64/random_sample_100.tfrecord...
2019-03-16 17:48:19.620802: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 17:48:19.842444: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:08:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 17:48:19.842525: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:48:20.230915: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:48:20.231010: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:48:20.231024: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:48:20.231367: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:08:00.0, compute capability: 3.7)
INFO:latens:wrote 100 examples
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: classifier
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 4):sequential
INFO:latens:layer:(None, 4) -> (None, 28, 28, 1):sequential_1
INFO:latens:model: sequential_4
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 64):conv2d_19
INFO:latens:layer:(None, 28, 28, 64) -> (None, 28, 28, 64):conv2d_20
INFO:latens:layer:(None, 28, 28, 64) -> (None, 14, 14, 64):max_pooling2d_2
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 64):dropout_4
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 32):conv2d_21
INFO:latens:layer:(None, 14, 14, 32) -> (None, 14, 14, 32):conv2d_22
INFO:latens:layer:(None, 14, 14, 32) -> (None, 7, 7, 32):max_pooling2d_3
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):dropout_5
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_23
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_24
INFO:latens:layer:(None, 7, 7, 32) -> (None, 1568):flatten_1
INFO:latens:layer:(None, 1568) -> (None, 1024):dense_6
INFO:latens:layer:(None, 1024) -> (None, 10):dense_7
2019-03-16 17:48:32.216510: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 17:48:32.417991: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:08:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 17:48:32.418059: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:48:32.762419: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:48:32.762472: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:48:32.762485: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:48:32.762782: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:08:00.0, compute capability: 3.7)
INFO:latens:test accuracy: 76.3%
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize
INFO:latens:visualizing and saving
INFO:latens:Plotting encoding...
DEBUG:latens:encodings: [[-0.10630204  0.09192346]
 [ 0.58648795  0.61173207]
 [-0.31794474  0.08917618]
 ...
 [ 0.32951447 -0.22894156]
 [-0.02220009 -0.18873315]
 [ 0.27966675 -0.19121373]]
INFO:latens:saving encodings plot to models/unbalanced_mnist_vae_e300_L2_b64/encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting sampling...
INFO:latens:saving sampling plot to models/unbalanced_mnist_vae_e300_L2_b64/random_sampling_100.pdf
INFO:latens:saving successful
INFO:latens:saving distribution plot to models/unbalanced_mnist_vae_e300_L2_b64/random_sampling_distribution_100.pdf
INFO:latens:saving successful
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: sample
INFO:latens:sampling with 'normal'
DEBUG:latens:sampler: drawing 100 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampling: (50000,), 100
INFO:latens:writing dataset to models/unbalanced_mnist_vae_e300_L2_b64/normal_sample_100.tfrecord...
2019-03-16 17:51:16.321721: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 17:51:16.537484: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:08:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 17:51:16.537560: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:51:16.955221: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:51:16.955293: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:51:16.955307: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:51:16.955644: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:08:00.0, compute capability: 3.7)
INFO:latens:wrote 100 examples
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: classifier
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 4):sequential
INFO:latens:layer:(None, 4) -> (None, 28, 28, 1):sequential_1
INFO:latens:model: sequential_4
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 64):conv2d_19
INFO:latens:layer:(None, 28, 28, 64) -> (None, 28, 28, 64):conv2d_20
INFO:latens:layer:(None, 28, 28, 64) -> (None, 14, 14, 64):max_pooling2d_2
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 64):dropout_4
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 32):conv2d_21
INFO:latens:layer:(None, 14, 14, 32) -> (None, 14, 14, 32):conv2d_22
INFO:latens:layer:(None, 14, 14, 32) -> (None, 7, 7, 32):max_pooling2d_3
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):dropout_5
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_23
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_24
INFO:latens:layer:(None, 7, 7, 32) -> (None, 1568):flatten_1
INFO:latens:layer:(None, 1568) -> (None, 1024):dense_6
INFO:latens:layer:(None, 1024) -> (None, 10):dense_7
2019-03-16 17:51:27.761416: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 17:51:27.958243: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:08:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 17:51:27.958312: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:51:28.328648: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:51:28.328696: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:51:28.328708: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:51:28.329006: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:08:00.0, compute capability: 3.7)
INFO:latens:test accuracy: 71.0%
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize
INFO:latens:visualizing and saving
INFO:latens:Plotting encoding...
DEBUG:latens:encodings: [[-0.10630204  0.09192346]
 [ 0.58648795  0.61173207]
 [-0.31794474  0.08917618]
 ...
 [ 0.32951447 -0.22894156]
 [-0.02220009 -0.18873315]
 [ 0.27966675 -0.19121373]]
INFO:latens:saving encodings plot to models/unbalanced_mnist_vae_e300_L2_b64/encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting sampling...
INFO:latens:saving sampling plot to models/unbalanced_mnist_vae_e300_L2_b64/normal_sampling_100.pdf
INFO:latens:saving successful
INFO:latens:saving distribution plot to models/unbalanced_mnist_vae_e300_L2_b64/normal_sampling_distribution_100.pdf
INFO:latens:saving successful
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: sample
INFO:latens:sampling with 'multi-normal'
DEBUG:latens:sampler: drawing 100 points
DEBUG:latens:sampling: (50000,), 100
INFO:latens:writing dataset to models/unbalanced_mnist_vae_e300_L2_b64/multi-normal_sample_100.tfrecord...
2019-03-16 17:54:10.452481: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 17:54:10.967774: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:08:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 17:54:10.967838: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:54:11.345727: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:54:11.345776: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:54:11.345788: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:54:11.346060: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:08:00.0, compute capability: 3.7)
INFO:latens:wrote 100 examples
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: classifier
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 4):sequential
INFO:latens:layer:(None, 4) -> (None, 28, 28, 1):sequential_1
INFO:latens:model: sequential_4
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 64):conv2d_19
INFO:latens:layer:(None, 28, 28, 64) -> (None, 28, 28, 64):conv2d_20
INFO:latens:layer:(None, 28, 28, 64) -> (None, 14, 14, 64):max_pooling2d_2
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 64):dropout_4
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 32):conv2d_21
INFO:latens:layer:(None, 14, 14, 32) -> (None, 14, 14, 32):conv2d_22
INFO:latens:layer:(None, 14, 14, 32) -> (None, 7, 7, 32):max_pooling2d_3
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):dropout_5
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_23
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_24
INFO:latens:layer:(None, 7, 7, 32) -> (None, 1568):flatten_1
INFO:latens:layer:(None, 1568) -> (None, 1024):dense_6
INFO:latens:layer:(None, 1024) -> (None, 10):dense_7
2019-03-16 17:54:20.387461: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 17:54:20.583544: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:08:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 17:54:20.583600: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:54:20.922005: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:54:20.922057: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:54:20.922070: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:54:20.922366: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:08:00.0, compute capability: 3.7)
INFO:latens:test accuracy: 66.5%
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize
INFO:latens:visualizing and saving
INFO:latens:Plotting encoding...
DEBUG:latens:encodings: [[-0.10630204  0.09192346]
 [ 0.58648795  0.61173207]
 [-0.31794474  0.08917618]
 ...
 [ 0.32951447 -0.22894156]
 [-0.02220009 -0.18873315]
 [ 0.27966675 -0.19121373]]
INFO:latens:saving encodings plot to models/unbalanced_mnist_vae_e300_L2_b64/encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting sampling...
INFO:latens:saving sampling plot to models/unbalanced_mnist_vae_e300_L2_b64/multi-normal_sampling_100.pdf
INFO:latens:saving successful
INFO:latens:saving distribution plot to models/unbalanced_mnist_vae_e300_L2_b64/multi-normal_sampling_distribution_100.pdf
INFO:latens:saving successful
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: sample
INFO:latens:sampling with 'uniform'
DEBUG:latens:sampler: drawing 100 points
DEBUG:latens:sampler: drawing 54 points
DEBUG:latens:sampler: drawing 30 points
DEBUG:latens:sampler: drawing 21 points
DEBUG:latens:sampler: drawing 14 points
DEBUG:latens:sampler: drawing 7 points
DEBUG:latens:sampler: drawing 5 points
DEBUG:latens:sampler: drawing 3 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampling: (50000,), 100
INFO:latens:writing dataset to models/unbalanced_mnist_vae_e300_L2_b64/uniform_sample_100.tfrecord...
2019-03-16 17:57:02.437320: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 17:57:02.677924: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:08:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 17:57:02.677987: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:57:03.066917: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:57:03.066975: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:57:03.066990: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:57:03.067334: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:08:00.0, compute capability: 3.7)
INFO:latens:wrote 100 examples
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: classifier
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 4):sequential
INFO:latens:layer:(None, 4) -> (None, 28, 28, 1):sequential_1
INFO:latens:model: sequential_4
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 64):conv2d_19
INFO:latens:layer:(None, 28, 28, 64) -> (None, 28, 28, 64):conv2d_20
INFO:latens:layer:(None, 28, 28, 64) -> (None, 14, 14, 64):max_pooling2d_2
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 64):dropout_4
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 32):conv2d_21
INFO:latens:layer:(None, 14, 14, 32) -> (None, 14, 14, 32):conv2d_22
INFO:latens:layer:(None, 14, 14, 32) -> (None, 7, 7, 32):max_pooling2d_3
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):dropout_5
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_23
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_24
INFO:latens:layer:(None, 7, 7, 32) -> (None, 1568):flatten_1
INFO:latens:layer:(None, 1568) -> (None, 1024):dense_6
INFO:latens:layer:(None, 1024) -> (None, 10):dense_7
2019-03-16 17:57:10.005902: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 17:57:10.202605: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:08:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 17:57:10.202667: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:57:10.569020: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:57:10.569077: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:57:10.569089: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:57:10.569380: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:08:00.0, compute capability: 3.7)
INFO:latens:test accuracy: 35.3%
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize
INFO:latens:visualizing and saving
INFO:latens:Plotting encoding...
DEBUG:latens:encodings: [[-0.10630204  0.09192346]
 [ 0.58648795  0.61173207]
 [-0.31794474  0.08917618]
 ...
 [ 0.32951447 -0.22894156]
 [-0.02220009 -0.18873315]
 [ 0.27966675 -0.19121373]]
INFO:latens:saving encodings plot to models/unbalanced_mnist_vae_e300_L2_b64/encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting sampling...
INFO:latens:saving sampling plot to models/unbalanced_mnist_vae_e300_L2_b64/uniform_sampling_100.pdf
INFO:latens:saving successful
INFO:latens:saving distribution plot to models/unbalanced_mnist_vae_e300_L2_b64/uniform_sampling_distribution_100.pdf
INFO:latens:saving successful
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: sample
INFO:latens:sampling with 'uniform-cluster'
INFO:latens:clustering...
DEBUG:latens:sampler: drawing 13 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 4 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 26 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 26 points
DEBUG:latens:sampler: drawing 4 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 21 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 4 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampling: (50000,), 99
INFO:latens:writing dataset to models/unbalanced_mnist_vae_e300_L2_b64/uniform-cluster_sample_100.tfrecord...
2019-03-16 18:01:48.709952: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 18:01:48.931041: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:08:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 18:01:48.931116: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 18:01:49.270270: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 18:01:49.270321: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 18:01:49.270333: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 18:01:49.270626: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:08:00.0, compute capability: 3.7)
INFO:latens:wrote 99 examples
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: classifier
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 4):sequential
INFO:latens:layer:(None, 4) -> (None, 28, 28, 1):sequential_1
INFO:latens:model: sequential_4
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 64):conv2d_19
INFO:latens:layer:(None, 28, 28, 64) -> (None, 28, 28, 64):conv2d_20
INFO:latens:layer:(None, 28, 28, 64) -> (None, 14, 14, 64):max_pooling2d_2
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 64):dropout_4
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 32):conv2d_21
INFO:latens:layer:(None, 14, 14, 32) -> (None, 14, 14, 32):conv2d_22
INFO:latens:layer:(None, 14, 14, 32) -> (None, 7, 7, 32):max_pooling2d_3
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):dropout_5
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_23
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_24
INFO:latens:layer:(None, 7, 7, 32) -> (None, 1568):flatten_1
INFO:latens:layer:(None, 1568) -> (None, 1024):dense_6
INFO:latens:layer:(None, 1024) -> (None, 10):dense_7
2019-03-16 18:01:57.218329: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 18:01:57.463669: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:08:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 18:01:57.463739: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 18:01:57.870621: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 18:01:57.870691: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 18:01:57.870703: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 18:01:57.870990: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:08:00.0, compute capability: 3.7)
INFO:latens:test accuracy: 62.1%
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize
INFO:latens:visualizing and saving
INFO:latens:Plotting encoding...
DEBUG:latens:encodings: [[-0.10630204  0.09192346]
 [ 0.58648795  0.61173207]
 [-0.31794474  0.08917618]
 ...
 [ 0.32951447 -0.22894156]
 [-0.02220009 -0.18873315]
 [ 0.27966675 -0.19121373]]
INFO:latens:saving encodings plot to models/unbalanced_mnist_vae_e300_L2_b64/encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting clusters...
INFO:latens:saving clustered encodings plot to models/unbalanced_mnist_vae_e300_L2_b64/clustered_encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting sampling...
INFO:latens:saving sampling plot to models/unbalanced_mnist_vae_e300_L2_b64/uniform-cluster_sampling_100.pdf
INFO:latens:saving successful
INFO:latens:saving distribution plot to models/unbalanced_mnist_vae_e300_L2_b64/uniform-cluster_sampling_distribution_100.pdf
INFO:latens:saving successful
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: sample
INFO:latens:sampling with 'normal-cluster'
INFO:latens:clustering...
DEBUG:latens:sampler: drawing 13 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 4 points
DEBUG:latens:sampler: drawing 26 points
DEBUG:latens:sampler: drawing 26 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 21 points
DEBUG:latens:sampler: drawing 15 points
DEBUG:latens:sampler: drawing 11 points
DEBUG:latens:sampler: drawing 7 points
DEBUG:latens:sampler: drawing 4 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 4 points
DEBUG:latens:sampler: drawing 4 points
DEBUG:latens:sampler: drawing 3 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampling: (50000,), 99
INFO:latens:writing dataset to models/unbalanced_mnist_vae_e300_L2_b64/normal-cluster_sample_100.tfrecord...
2019-03-16 18:06:42.141123: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 18:06:42.363771: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:08:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 18:06:42.363847: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 18:06:42.703473: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 18:06:42.703580: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 18:06:42.703591: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 18:06:42.703865: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:08:00.0, compute capability: 3.7)
INFO:latens:wrote 99 examples
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: classifier
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 4):sequential
INFO:latens:layer:(None, 4) -> (None, 28, 28, 1):sequential_1
INFO:latens:model: sequential_4
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 64):conv2d_19
INFO:latens:layer:(None, 28, 28, 64) -> (None, 28, 28, 64):conv2d_20
INFO:latens:layer:(None, 28, 28, 64) -> (None, 14, 14, 64):max_pooling2d_2
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 64):dropout_4
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 32):conv2d_21
INFO:latens:layer:(None, 14, 14, 32) -> (None, 14, 14, 32):conv2d_22
INFO:latens:layer:(None, 14, 14, 32) -> (None, 7, 7, 32):max_pooling2d_3
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):dropout_5
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_23
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_24
INFO:latens:layer:(None, 7, 7, 32) -> (None, 1568):flatten_1
INFO:latens:layer:(None, 1568) -> (None, 1024):dense_6
INFO:latens:layer:(None, 1024) -> (None, 10):dense_7
2019-03-16 18:06:52.717608: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 18:06:52.964976: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:08:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 18:06:52.965042: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 18:06:53.358088: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 18:06:53.358188: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 18:06:53.358202: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 18:06:53.358500: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:08:00.0, compute capability: 3.7)
INFO:latens:test accuracy: 64.6%
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize
INFO:latens:visualizing and saving
INFO:latens:Plotting encoding...
DEBUG:latens:encodings: [[-0.10630204  0.09192346]
 [ 0.58648795  0.61173207]
 [-0.31794474  0.08917618]
 ...
 [ 0.32951447 -0.22894156]
 [-0.02220009 -0.18873315]
 [ 0.27966675 -0.19121373]]
INFO:latens:saving encodings plot to models/unbalanced_mnist_vae_e300_L2_b64/encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting clusters...
INFO:latens:saving clustered encodings plot to models/unbalanced_mnist_vae_e300_L2_b64/clustered_encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting sampling...
INFO:latens:saving sampling plot to models/unbalanced_mnist_vae_e300_L2_b64/normal-cluster_sampling_100.pdf
INFO:latens:saving successful
INFO:latens:saving distribution plot to models/unbalanced_mnist_vae_e300_L2_b64/normal-cluster_sampling_distribution_100.pdf
INFO:latens:saving successful
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: sample
INFO:latens:sampling with 'multi-normal-cluster'
INFO:latens:clustering...
DEBUG:latens:sampler: drawing 13 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 4 points
DEBUG:latens:sampler: drawing 26 points
DEBUG:latens:sampler: drawing 26 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 21 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 4 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampling: (50000,), 99
INFO:latens:writing dataset to models/unbalanced_mnist_vae_e300_L2_b64/multi-normal-cluster_sample_100.tfrecord...
2019-03-16 18:11:29.281107: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 18:11:29.503265: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:08:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 18:11:29.503345: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 18:11:29.837501: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 18:11:29.837579: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 18:11:29.837592: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 18:11:29.837868: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:08:00.0, compute capability: 3.7)
INFO:latens:wrote 99 examples
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: classifier
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 4):sequential
INFO:latens:layer:(None, 4) -> (None, 28, 28, 1):sequential_1
INFO:latens:model: sequential_4
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 64):conv2d_19
INFO:latens:layer:(None, 28, 28, 64) -> (None, 28, 28, 64):conv2d_20
INFO:latens:layer:(None, 28, 28, 64) -> (None, 14, 14, 64):max_pooling2d_2
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 64):dropout_4
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 32):conv2d_21
INFO:latens:layer:(None, 14, 14, 32) -> (None, 14, 14, 32):conv2d_22
INFO:latens:layer:(None, 14, 14, 32) -> (None, 7, 7, 32):max_pooling2d_3
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):dropout_5
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_23
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_24
INFO:latens:layer:(None, 7, 7, 32) -> (None, 1568):flatten_1
INFO:latens:layer:(None, 1568) -> (None, 1024):dense_6
INFO:latens:layer:(None, 1024) -> (None, 10):dense_7
2019-03-16 18:11:39.681087: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 18:11:39.896012: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:08:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 18:11:39.896084: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 18:11:40.218146: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 18:11:40.218230: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 18:11:40.218242: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 18:11:40.218506: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:08:00.0, compute capability: 3.7)
INFO:latens:test accuracy: 85.0%
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize
INFO:latens:visualizing and saving
INFO:latens:Plotting encoding...
DEBUG:latens:encodings: [[-0.10630204  0.09192346]
 [ 0.58648795  0.61173207]
 [-0.31794474  0.08917618]
 ...
 [ 0.32951447 -0.22894156]
 [-0.02220009 -0.18873315]
 [ 0.27966675 -0.19121373]]
INFO:latens:saving encodings plot to models/unbalanced_mnist_vae_e300_L2_b64/encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting clusters...
INFO:latens:saving clustered encodings plot to models/unbalanced_mnist_vae_e300_L2_b64/clustered_encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting sampling...
INFO:latens:saving sampling plot to models/unbalanced_mnist_vae_e300_L2_b64/multi-normal-cluster_sampling_100.pdf
INFO:latens:saving successful
INFO:latens:saving distribution plot to models/unbalanced_mnist_vae_e300_L2_b64/multi-normal-cluster_sampling_distribution_100.pdf
INFO:latens:saving successful
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: sample
INFO:latens:sampling with 'error'
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 4):sequential
INFO:latens:layer:(None, 4) -> (None, 28, 28, 1):sequential_1
2019-03-16 18:14:23.623692: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 18:14:23.827166: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:08:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 18:14:23.827237: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 18:14:24.140314: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 18:14:24.140396: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 18:14:24.140408: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 18:14:24.140684: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:08:00.0, compute capability: 3.7)
INFO:latens:restored model from models/unbalanced_mnist_vae_e300_L2_b64/autoencoder/cp-0300.hdf5
2019-03-16 18:14:39.391438: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 18:14:39.391540: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 18:14:39.391553: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 18:14:39.391560: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 18:14:39.391748: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:08:00.0, compute capability: 3.7)
DEBUG:latens:points: (50000,), [0.11522499 0.07406943 0.1160778  ... 1.         1.         1.        ]
DEBUG:latens:values: (50000,)
DEBUG:latens:sampling: [0 0 0 ... 0 0 1]
DEBUG:latens:sampling: (50000,), 100
INFO:latens:writing dataset to models/unbalanced_mnist_vae_e300_L2_b64/error_sample_100.tfrecord...
2019-03-16 18:14:39.549756: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 18:14:39.549801: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 18:14:39.549813: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 18:14:39.549821: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 18:14:39.549983: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:08:00.0, compute capability: 3.7)
INFO:latens:wrote 100 examples
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: classifier
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 4):sequential
INFO:latens:layer:(None, 4) -> (None, 28, 28, 1):sequential_1
INFO:latens:model: sequential_4
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 64):conv2d_19
INFO:latens:layer:(None, 28, 28, 64) -> (None, 28, 28, 64):conv2d_20
INFO:latens:layer:(None, 28, 28, 64) -> (None, 14, 14, 64):max_pooling2d_2
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 64):dropout_4
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 32):conv2d_21
INFO:latens:layer:(None, 14, 14, 32) -> (None, 14, 14, 32):conv2d_22
INFO:latens:layer:(None, 14, 14, 32) -> (None, 7, 7, 32):max_pooling2d_3
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):dropout_5
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_23
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_24
INFO:latens:layer:(None, 7, 7, 32) -> (None, 1568):flatten_1
INFO:latens:layer:(None, 1568) -> (None, 1024):dense_6
INFO:latens:layer:(None, 1024) -> (None, 10):dense_7
2019-03-16 18:14:50.771112: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 18:14:50.988198: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:08:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 18:14:50.988265: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 18:14:51.300725: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 18:14:51.300789: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 18:14:51.300800: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 18:14:51.301011: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:08:00.0, compute capability: 3.7)
INFO:latens:test accuracy: 46.3%
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize
INFO:latens:visualizing and saving
INFO:latens:Plotting encoding...
DEBUG:latens:encodings: [[-0.10630204  0.09192346]
 [ 0.58648795  0.61173207]
 [-0.31794474  0.08917618]
 ...
 [ 0.32951447 -0.22894156]
 [-0.02220009 -0.18873315]
 [ 0.27966675 -0.19121373]]
INFO:latens:saving encodings plot to models/unbalanced_mnist_vae_e300_L2_b64/encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting sampling...
INFO:latens:saving sampling plot to models/unbalanced_mnist_vae_e300_L2_b64/error_sampling_100.pdf
INFO:latens:saving successful
INFO:latens:saving distribution plot to models/unbalanced_mnist_vae_e300_L2_b64/error_sampling_distribution_100.pdf
INFO:latens:saving successful
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize-classifiers
INFO:latens:saving hist losses plot to models/unbalanced_mnist_vae_e300_L2_b64/classifier_val_losses_1000.pdf
INFO:latens:saving successful
INFO:latens:saving hist losses plot to models/unbalanced_mnist_vae_e300_L2_b64/classifier_val_accs_1000.pdf
INFO:latens:saving successful
INFO:latens:saving hist losses plot to models/unbalanced_mnist_vae_e300_L2_b64/classifier_test_losses_1000.pdf
INFO:latens:saving successful
INFO:latens:saving hist losses plot to models/unbalanced_mnist_vae_e300_L2_b64/classifier_test_accs_1000.pdf
INFO:latens:saving successful
INFO:latens:test accs for vae:[0.9248606687898089, 0.604796974522293, 0.9159036624203821, 0.8965963375796179, 0.9221735668789809, 0.5773288216560509]
