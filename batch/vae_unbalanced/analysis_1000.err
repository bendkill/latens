INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: encode
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 4):sequential
INFO:latens:layer:(None, 4) -> (None, 28, 28, 1):sequential_1
2019-03-16 16:42:09.038730: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 16:42:09.253376: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:08:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 16:42:09.253442: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 16:42:09.565000: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 16:42:09.565077: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 16:42:09.565088: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 16:42:09.565358: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:08:00.0, compute capability: 3.7)
INFO:latens:restored model from models/unbalanced_mnist_vae_e300_L2_b64/autoencoder/cp-0300.hdf5
DEBUG:latens:encodings:
[[-0.10630204  0.09192346]
 [ 0.58648795  0.61173207]
 [-0.31794474  0.08917618]
 ...
 [ 0.32951447 -0.22894156]
 [-0.02220009 -0.18873315]
 [ 0.27966675 -0.19121373]]
INFO:latens:saved encodings to 'models/unbalanced_mnist_vae_e300_L2_b64/encodings.npy'
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: reconstruct
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 4):sequential
INFO:latens:layer:(None, 4) -> (None, 28, 28, 1):sequential_1
2019-03-16 16:42:30.055571: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 16:42:30.273356: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:08:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 16:42:30.273429: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 16:42:30.588740: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 16:42:30.588811: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 16:42:30.588823: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 16:42:30.589098: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:08:00.0, compute capability: 3.7)
INFO:latens:restored model from models/unbalanced_mnist_vae_e300_L2_b64/autoencoder/cp-0300.hdf5
2019-03-16 16:42:33.400597: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 16:42:33.400661: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 16:42:33.400673: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 16:42:33.400681: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 16:42:33.400790: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:08:00.0, compute capability: 3.7)
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: sample
INFO:latens:sampling with 'random'
DEBUG:latens:sampling: (50000,), 1000
INFO:latens:writing dataset to models/unbalanced_mnist_vae_e300_L2_b64/random_sample_1000.tfrecord...
2019-03-16 16:42:43.304345: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 16:42:43.524207: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:08:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 16:42:43.524275: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 16:42:43.919346: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 16:42:43.919420: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 16:42:43.919434: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 16:42:43.919769: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:08:00.0, compute capability: 3.7)
INFO:latens:wrote 1000 examples
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: classifier
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 4):sequential
INFO:latens:layer:(None, 4) -> (None, 28, 28, 1):sequential_1
INFO:latens:model: sequential_4
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 64):conv2d_19
INFO:latens:layer:(None, 28, 28, 64) -> (None, 28, 28, 64):conv2d_20
INFO:latens:layer:(None, 28, 28, 64) -> (None, 14, 14, 64):max_pooling2d_2
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 64):dropout_4
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 32):conv2d_21
INFO:latens:layer:(None, 14, 14, 32) -> (None, 14, 14, 32):conv2d_22
INFO:latens:layer:(None, 14, 14, 32) -> (None, 7, 7, 32):max_pooling2d_3
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):dropout_5
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_23
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_24
INFO:latens:layer:(None, 7, 7, 32) -> (None, 1568):flatten_1
INFO:latens:layer:(None, 1568) -> (None, 1024):dense_6
INFO:latens:layer:(None, 1024) -> (None, 10):dense_7
2019-03-16 16:42:54.680860: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 16:42:54.880989: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:08:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 16:42:54.881056: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 16:42:55.190210: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 16:42:55.190295: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 16:42:55.190307: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 16:42:55.190583: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:08:00.0, compute capability: 3.7)
INFO:latens:test accuracy: 92.5%
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize
INFO:latens:visualizing and saving
INFO:latens:Plotting encoding...
DEBUG:latens:encodings: [[-0.10630204  0.09192346]
 [ 0.58648795  0.61173207]
 [-0.31794474  0.08917618]
 ...
 [ 0.32951447 -0.22894156]
 [-0.02220009 -0.18873315]
 [ 0.27966675 -0.19121373]]
INFO:latens:saving encodings plot to models/unbalanced_mnist_vae_e300_L2_b64/encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting sampling...
INFO:latens:saving sampling plot to models/unbalanced_mnist_vae_e300_L2_b64/random_sampling_1000.pdf
INFO:latens:saving successful
INFO:latens:saving distribution plot to models/unbalanced_mnist_vae_e300_L2_b64/random_sampling_distribution_1000.pdf
INFO:latens:saving successful
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: sample
INFO:latens:sampling with 'normal'
DEBUG:latens:sampler: drawing 1000 points
DEBUG:latens:sampler: drawing 6 points
DEBUG:latens:sampling: (50000,), 1000
INFO:latens:writing dataset to models/unbalanced_mnist_vae_e300_L2_b64/normal_sample_1000.tfrecord...
2019-03-16 16:45:38.074958: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 16:45:38.276346: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:08:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 16:45:38.276412: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 16:45:38.609811: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 16:45:38.609873: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 16:45:38.609884: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 16:45:38.610111: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:08:00.0, compute capability: 3.7)
INFO:latens:wrote 1000 examples
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: classifier
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 4):sequential
INFO:latens:layer:(None, 4) -> (None, 28, 28, 1):sequential_1
INFO:latens:model: sequential_4
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 64):conv2d_19
INFO:latens:layer:(None, 28, 28, 64) -> (None, 28, 28, 64):conv2d_20
INFO:latens:layer:(None, 28, 28, 64) -> (None, 14, 14, 64):max_pooling2d_2
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 64):dropout_4
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 32):conv2d_21
INFO:latens:layer:(None, 14, 14, 32) -> (None, 14, 14, 32):conv2d_22
INFO:latens:layer:(None, 14, 14, 32) -> (None, 7, 7, 32):max_pooling2d_3
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):dropout_5
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_23
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_24
INFO:latens:layer:(None, 7, 7, 32) -> (None, 1568):flatten_1
INFO:latens:layer:(None, 1568) -> (None, 1024):dense_6
INFO:latens:layer:(None, 1024) -> (None, 10):dense_7
2019-03-16 16:45:48.762909: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 16:45:48.963498: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:08:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 16:45:48.963565: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 16:45:49.290089: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 16:45:49.290152: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 16:45:49.290168: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 16:45:49.290461: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:08:00.0, compute capability: 3.7)
INFO:latens:test accuracy: 91.1%
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize
INFO:latens:visualizing and saving
INFO:latens:Plotting encoding...
DEBUG:latens:encodings: [[-0.10630204  0.09192346]
 [ 0.58648795  0.61173207]
 [-0.31794474  0.08917618]
 ...
 [ 0.32951447 -0.22894156]
 [-0.02220009 -0.18873315]
 [ 0.27966675 -0.19121373]]
INFO:latens:saving encodings plot to models/unbalanced_mnist_vae_e300_L2_b64/encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting sampling...
INFO:latens:saving sampling plot to models/unbalanced_mnist_vae_e300_L2_b64/normal_sampling_1000.pdf
INFO:latens:saving successful
INFO:latens:saving distribution plot to models/unbalanced_mnist_vae_e300_L2_b64/normal_sampling_distribution_1000.pdf
INFO:latens:saving successful
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: sample
INFO:latens:sampling with 'multi-normal'
DEBUG:latens:sampler: drawing 1000 points
DEBUG:latens:sampling: (50000,), 1000
INFO:latens:writing dataset to models/unbalanced_mnist_vae_e300_L2_b64/multi-normal_sample_1000.tfrecord...
2019-03-16 16:48:34.100567: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 16:48:34.302811: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:08:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 16:48:34.302887: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 16:48:34.637997: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 16:48:34.638063: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 16:48:34.638074: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 16:48:34.638388: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:08:00.0, compute capability: 3.7)
INFO:latens:wrote 1000 examples
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: classifier
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 4):sequential
INFO:latens:layer:(None, 4) -> (None, 28, 28, 1):sequential_1
INFO:latens:model: sequential_4
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 64):conv2d_19
INFO:latens:layer:(None, 28, 28, 64) -> (None, 28, 28, 64):conv2d_20
INFO:latens:layer:(None, 28, 28, 64) -> (None, 14, 14, 64):max_pooling2d_2
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 64):dropout_4
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 32):conv2d_21
INFO:latens:layer:(None, 14, 14, 32) -> (None, 14, 14, 32):conv2d_22
INFO:latens:layer:(None, 14, 14, 32) -> (None, 7, 7, 32):max_pooling2d_3
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):dropout_5
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_23
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_24
INFO:latens:layer:(None, 7, 7, 32) -> (None, 1568):flatten_1
INFO:latens:layer:(None, 1568) -> (None, 1024):dense_6
INFO:latens:layer:(None, 1024) -> (None, 10):dense_7
2019-03-16 16:48:44.891245: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 16:48:45.094500: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:08:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 16:48:45.094569: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 16:48:45.419145: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 16:48:45.419231: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 16:48:45.419243: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 16:48:45.419535: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:08:00.0, compute capability: 3.7)
INFO:latens:test accuracy: 91.6%
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize
INFO:latens:visualizing and saving
INFO:latens:Plotting encoding...
DEBUG:latens:encodings: [[-0.10630204  0.09192346]
 [ 0.58648795  0.61173207]
 [-0.31794474  0.08917618]
 ...
 [ 0.32951447 -0.22894156]
 [-0.02220009 -0.18873315]
 [ 0.27966675 -0.19121373]]
INFO:latens:saving encodings plot to models/unbalanced_mnist_vae_e300_L2_b64/encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting sampling...
INFO:latens:saving sampling plot to models/unbalanced_mnist_vae_e300_L2_b64/multi-normal_sampling_1000.pdf
INFO:latens:saving successful
INFO:latens:saving distribution plot to models/unbalanced_mnist_vae_e300_L2_b64/multi-normal_sampling_distribution_1000.pdf
INFO:latens:saving successful
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: sample
INFO:latens:sampling with 'uniform'
DEBUG:latens:sampler: drawing 1000 points
DEBUG:latens:sampler: drawing 545 points
DEBUG:latens:sampler: drawing 287 points
DEBUG:latens:sampler: drawing 150 points
DEBUG:latens:sampler: drawing 80 points
DEBUG:latens:sampler: drawing 52 points
DEBUG:latens:sampler: drawing 27 points
DEBUG:latens:sampler: drawing 15 points
DEBUG:latens:sampler: drawing 13 points
DEBUG:latens:sampler: drawing 6 points
DEBUG:latens:sampler: drawing 5 points
DEBUG:latens:sampler: drawing 3 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampling: (50000,), 1000
INFO:latens:writing dataset to models/unbalanced_mnist_vae_e300_L2_b64/uniform_sample_1000.tfrecord...
2019-03-16 16:51:29.344136: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 16:51:29.553898: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:08:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 16:51:29.553965: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 16:51:29.887483: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 16:51:29.887553: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 16:51:29.887566: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 16:51:29.887853: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:08:00.0, compute capability: 3.7)
INFO:latens:wrote 1000 examples
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: classifier
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 4):sequential
INFO:latens:layer:(None, 4) -> (None, 28, 28, 1):sequential_1
INFO:latens:model: sequential_4
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 64):conv2d_19
INFO:latens:layer:(None, 28, 28, 64) -> (None, 28, 28, 64):conv2d_20
INFO:latens:layer:(None, 28, 28, 64) -> (None, 14, 14, 64):max_pooling2d_2
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 64):dropout_4
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 32):conv2d_21
INFO:latens:layer:(None, 14, 14, 32) -> (None, 14, 14, 32):conv2d_22
INFO:latens:layer:(None, 14, 14, 32) -> (None, 7, 7, 32):max_pooling2d_3
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):dropout_5
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_23
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_24
INFO:latens:layer:(None, 7, 7, 32) -> (None, 1568):flatten_1
INFO:latens:layer:(None, 1568) -> (None, 1024):dense_6
INFO:latens:layer:(None, 1024) -> (None, 10):dense_7
2019-03-16 16:51:40.044806: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 16:51:40.252553: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:08:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 16:51:40.252608: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 16:51:40.576159: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 16:51:40.576253: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 16:51:40.576265: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 16:51:40.576575: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:08:00.0, compute capability: 3.7)
INFO:latens:test accuracy: 60.5%
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize
INFO:latens:visualizing and saving
INFO:latens:Plotting encoding...
DEBUG:latens:encodings: [[-0.10630204  0.09192346]
 [ 0.58648795  0.61173207]
 [-0.31794474  0.08917618]
 ...
 [ 0.32951447 -0.22894156]
 [-0.02220009 -0.18873315]
 [ 0.27966675 -0.19121373]]
INFO:latens:saving encodings plot to models/unbalanced_mnist_vae_e300_L2_b64/encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting sampling...
INFO:latens:saving sampling plot to models/unbalanced_mnist_vae_e300_L2_b64/uniform_sampling_1000.pdf
INFO:latens:saving successful
INFO:latens:saving distribution plot to models/unbalanced_mnist_vae_e300_L2_b64/uniform_sampling_distribution_1000.pdf
INFO:latens:saving successful
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: sample
INFO:latens:sampling with 'uniform-cluster'
INFO:latens:clustering...
DEBUG:latens:sampler: drawing 133 points
DEBUG:latens:sampler: drawing 11 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 11 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 39 points
DEBUG:latens:sampler: drawing 8 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 262 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 261 points
DEBUG:latens:sampler: drawing 33 points
DEBUG:latens:sampler: drawing 6 points
DEBUG:latens:sampler: drawing 11 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 211 points
DEBUG:latens:sampler: drawing 7 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 43 points
DEBUG:latens:sampler: drawing 4 points
DEBUG:latens:sampler: drawing 20 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampling: (50000,), 998
INFO:latens:writing dataset to models/unbalanced_mnist_vae_e300_L2_b64/uniform-cluster_sample_1000.tfrecord...
2019-03-16 16:56:13.174988: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 16:56:13.414563: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:08:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 16:56:13.414636: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 16:56:13.790004: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 16:56:13.790082: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 16:56:13.790094: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 16:56:13.790403: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:08:00.0, compute capability: 3.7)
INFO:latens:wrote 998 examples
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: classifier
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 4):sequential
INFO:latens:layer:(None, 4) -> (None, 28, 28, 1):sequential_1
INFO:latens:model: sequential_4
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 64):conv2d_19
INFO:latens:layer:(None, 28, 28, 64) -> (None, 28, 28, 64):conv2d_20
INFO:latens:layer:(None, 28, 28, 64) -> (None, 14, 14, 64):max_pooling2d_2
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 64):dropout_4
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 32):conv2d_21
INFO:latens:layer:(None, 14, 14, 32) -> (None, 14, 14, 32):conv2d_22
INFO:latens:layer:(None, 14, 14, 32) -> (None, 7, 7, 32):max_pooling2d_3
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):dropout_5
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_23
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_24
INFO:latens:layer:(None, 7, 7, 32) -> (None, 1568):flatten_1
INFO:latens:layer:(None, 1568) -> (None, 1024):dense_6
INFO:latens:layer:(None, 1024) -> (None, 10):dense_7
2019-03-16 16:56:25.440270: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 16:56:25.687026: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:08:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 16:56:25.687107: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 16:56:26.080272: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 16:56:26.080359: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 16:56:26.080371: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 16:56:26.080705: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:08:00.0, compute capability: 3.7)
INFO:latens:test accuracy: 89.7%
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize
INFO:latens:visualizing and saving
INFO:latens:Plotting encoding...
DEBUG:latens:encodings: [[-0.10630204  0.09192346]
 [ 0.58648795  0.61173207]
 [-0.31794474  0.08917618]
 ...
 [ 0.32951447 -0.22894156]
 [-0.02220009 -0.18873315]
 [ 0.27966675 -0.19121373]]
INFO:latens:saving encodings plot to models/unbalanced_mnist_vae_e300_L2_b64/encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting clusters...
INFO:latens:saving clustered encodings plot to models/unbalanced_mnist_vae_e300_L2_b64/clustered_encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting sampling...
INFO:latens:saving sampling plot to models/unbalanced_mnist_vae_e300_L2_b64/uniform-cluster_sampling_1000.pdf
INFO:latens:saving successful
INFO:latens:saving distribution plot to models/unbalanced_mnist_vae_e300_L2_b64/uniform-cluster_sampling_distribution_1000.pdf
INFO:latens:saving successful
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: sample
INFO:latens:sampling with 'normal-cluster'
INFO:latens:clustering...
DEBUG:latens:sampler: drawing 133 points
DEBUG:latens:sampler: drawing 15 points
DEBUG:latens:sampler: drawing 3 points
DEBUG:latens:sampler: drawing 11 points
DEBUG:latens:sampler: drawing 11 points
DEBUG:latens:sampler: drawing 9 points
DEBUG:latens:sampler: drawing 7 points
DEBUG:latens:sampler: drawing 7 points
DEBUG:latens:sampler: drawing 6 points
DEBUG:latens:sampler: drawing 5 points
DEBUG:latens:sampler: drawing 4 points
DEBUG:latens:sampler: drawing 4 points
DEBUG:latens:sampler: drawing 3 points
DEBUG:latens:sampler: drawing 3 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 39 points
DEBUG:latens:sampler: drawing 5 points
DEBUG:latens:sampler: drawing 262 points
DEBUG:latens:sampler: drawing 4 points
DEBUG:latens:sampler: drawing 261 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 11 points
DEBUG:latens:sampler: drawing 6 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 211 points
DEBUG:latens:sampler: drawing 144 points
DEBUG:latens:sampler: drawing 92 points
DEBUG:latens:sampler: drawing 55 points
DEBUG:latens:sampler: drawing 37 points
DEBUG:latens:sampler: drawing 24 points
DEBUG:latens:sampler: drawing 21 points
DEBUG:latens:sampler: drawing 14 points
DEBUG:latens:sampler: drawing 11 points
DEBUG:latens:sampler: drawing 9 points
DEBUG:latens:sampler: drawing 6 points
DEBUG:latens:sampler: drawing 3 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 7 points
DEBUG:latens:sampler: drawing 43 points
DEBUG:latens:sampler: drawing 29 points
DEBUG:latens:sampler: drawing 19 points
DEBUG:latens:sampler: drawing 12 points
DEBUG:latens:sampler: drawing 9 points
DEBUG:latens:sampler: drawing 6 points
DEBUG:latens:sampler: drawing 5 points
DEBUG:latens:sampler: drawing 3 points
DEBUG:latens:sampler: drawing 3 points
DEBUG:latens:sampler: drawing 3 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 20 points
DEBUG:latens:sampler: drawing 14 points
DEBUG:latens:sampler: drawing 11 points
DEBUG:latens:sampler: drawing 6 points
DEBUG:latens:sampler: drawing 4 points
DEBUG:latens:sampler: drawing 4 points
DEBUG:latens:sampler: drawing 4 points
DEBUG:latens:sampler: drawing 3 points
DEBUG:latens:sampler: drawing 3 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampling: (50000,), 998
INFO:latens:writing dataset to models/unbalanced_mnist_vae_e300_L2_b64/normal-cluster_sample_1000.tfrecord...
2019-03-16 17:01:01.361468: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 17:01:01.586142: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:08:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 17:01:01.586241: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:01:01.965926: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:01:01.966006: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:01:01.966019: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:01:01.966312: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:08:00.0, compute capability: 3.7)
INFO:latens:wrote 998 examples
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: classifier
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 4):sequential
INFO:latens:layer:(None, 4) -> (None, 28, 28, 1):sequential_1
INFO:latens:model: sequential_4
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 64):conv2d_19
INFO:latens:layer:(None, 28, 28, 64) -> (None, 28, 28, 64):conv2d_20
INFO:latens:layer:(None, 28, 28, 64) -> (None, 14, 14, 64):max_pooling2d_2
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 64):dropout_4
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 32):conv2d_21
INFO:latens:layer:(None, 14, 14, 32) -> (None, 14, 14, 32):conv2d_22
INFO:latens:layer:(None, 14, 14, 32) -> (None, 7, 7, 32):max_pooling2d_3
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):dropout_5
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_23
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_24
INFO:latens:layer:(None, 7, 7, 32) -> (None, 1568):flatten_1
INFO:latens:layer:(None, 1568) -> (None, 1024):dense_6
INFO:latens:layer:(None, 1024) -> (None, 10):dense_7
2019-03-16 17:01:14.293870: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 17:01:14.534387: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:08:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 17:01:14.534469: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:01:14.931597: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:01:14.931685: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:01:14.931697: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:01:14.932009: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:08:00.0, compute capability: 3.7)
INFO:latens:test accuracy: 91.1%
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize
INFO:latens:visualizing and saving
INFO:latens:Plotting encoding...
DEBUG:latens:encodings: [[-0.10630204  0.09192346]
 [ 0.58648795  0.61173207]
 [-0.31794474  0.08917618]
 ...
 [ 0.32951447 -0.22894156]
 [-0.02220009 -0.18873315]
 [ 0.27966675 -0.19121373]]
INFO:latens:saving encodings plot to models/unbalanced_mnist_vae_e300_L2_b64/encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting clusters...
INFO:latens:saving clustered encodings plot to models/unbalanced_mnist_vae_e300_L2_b64/clustered_encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting sampling...
INFO:latens:saving sampling plot to models/unbalanced_mnist_vae_e300_L2_b64/normal-cluster_sampling_1000.pdf
INFO:latens:saving successful
INFO:latens:saving distribution plot to models/unbalanced_mnist_vae_e300_L2_b64/normal-cluster_sampling_distribution_1000.pdf
INFO:latens:saving successful
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: sample
INFO:latens:sampling with 'multi-normal-cluster'
INFO:latens:clustering...
DEBUG:latens:sampler: drawing 133 points
DEBUG:latens:sampler: drawing 4 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 11 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 39 points
DEBUG:latens:sampler: drawing 3 points
DEBUG:latens:sampler: drawing 262 points
DEBUG:latens:sampler: drawing 261 points
DEBUG:latens:sampler: drawing 2 points
DEBUG:latens:sampler: drawing 11 points
DEBUG:latens:sampler: drawing 211 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 7 points
DEBUG:latens:sampler: drawing 43 points
DEBUG:latens:sampler: drawing 1 points
DEBUG:latens:sampler: drawing 20 points
DEBUG:latens:sampling: (50000,), 998
INFO:latens:writing dataset to models/unbalanced_mnist_vae_e300_L2_b64/multi-normal-cluster_sample_1000.tfrecord...
2019-03-16 17:05:49.876622: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 17:05:50.116402: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:08:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 17:05:50.116479: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:05:50.512248: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:05:50.512302: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:05:50.512314: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:05:50.512600: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:08:00.0, compute capability: 3.7)
INFO:latens:wrote 998 examples
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: classifier
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 4):sequential
INFO:latens:layer:(None, 4) -> (None, 28, 28, 1):sequential_1
INFO:latens:model: sequential_4
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 64):conv2d_19
INFO:latens:layer:(None, 28, 28, 64) -> (None, 28, 28, 64):conv2d_20
INFO:latens:layer:(None, 28, 28, 64) -> (None, 14, 14, 64):max_pooling2d_2
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 64):dropout_4
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 32):conv2d_21
INFO:latens:layer:(None, 14, 14, 32) -> (None, 14, 14, 32):conv2d_22
INFO:latens:layer:(None, 14, 14, 32) -> (None, 7, 7, 32):max_pooling2d_3
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):dropout_5
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_23
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_24
INFO:latens:layer:(None, 7, 7, 32) -> (None, 1568):flatten_1
INFO:latens:layer:(None, 1568) -> (None, 1024):dense_6
INFO:latens:layer:(None, 1024) -> (None, 10):dense_7
2019-03-16 17:06:03.334733: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 17:06:03.578072: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:08:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 17:06:03.578140: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:06:03.979793: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:06:03.979864: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:06:03.979877: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:06:03.980206: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:08:00.0, compute capability: 3.7)
INFO:latens:test accuracy: 92.2%
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize
INFO:latens:visualizing and saving
INFO:latens:Plotting encoding...
DEBUG:latens:encodings: [[-0.10630204  0.09192346]
 [ 0.58648795  0.61173207]
 [-0.31794474  0.08917618]
 ...
 [ 0.32951447 -0.22894156]
 [-0.02220009 -0.18873315]
 [ 0.27966675 -0.19121373]]
INFO:latens:saving encodings plot to models/unbalanced_mnist_vae_e300_L2_b64/encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting clusters...
INFO:latens:saving clustered encodings plot to models/unbalanced_mnist_vae_e300_L2_b64/clustered_encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting sampling...
INFO:latens:saving sampling plot to models/unbalanced_mnist_vae_e300_L2_b64/multi-normal-cluster_sampling_1000.pdf
INFO:latens:saving successful
INFO:latens:saving distribution plot to models/unbalanced_mnist_vae_e300_L2_b64/multi-normal-cluster_sampling_distribution_1000.pdf
INFO:latens:saving successful
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: sample
INFO:latens:sampling with 'error'
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 4):sequential
INFO:latens:layer:(None, 4) -> (None, 28, 28, 1):sequential_1
2019-03-16 17:08:52.107959: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 17:08:52.344046: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:08:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 17:08:52.344117: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:08:52.733367: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:08:52.733437: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:08:52.733449: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:08:52.733782: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:08:00.0, compute capability: 3.7)
INFO:latens:restored model from models/unbalanced_mnist_vae_e300_L2_b64/autoencoder/cp-0300.hdf5
2019-03-16 17:09:08.644216: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:09:08.644303: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:09:08.644318: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:09:08.644327: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:09:08.644551: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:08:00.0, compute capability: 3.7)
DEBUG:latens:points: (50000,), [0.11570599 0.07400192 0.11624418 ... 1.         1.         1.        ]
DEBUG:latens:values: (50000,)
DEBUG:latens:sampling: [0 0 0 ... 0 0 1]
DEBUG:latens:sampling: (50000,), 1000
INFO:latens:writing dataset to models/unbalanced_mnist_vae_e300_L2_b64/error_sample_1000.tfrecord...
2019-03-16 17:09:08.988815: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:09:08.988879: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:09:08.988906: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:09:08.988914: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:09:08.989083: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:08:00.0, compute capability: 3.7)
INFO:latens:wrote 1000 examples
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: classifier
INFO:latens:model: model
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 1):input_2
INFO:latens:layer:(None, 28, 28, 1) -> (None, 4):sequential
INFO:latens:layer:(None, 4) -> (None, 28, 28, 1):sequential_1
INFO:latens:model: sequential_4
INFO:latens:layer:(None, 28, 28, 1) -> (None, 28, 28, 64):conv2d_19
INFO:latens:layer:(None, 28, 28, 64) -> (None, 28, 28, 64):conv2d_20
INFO:latens:layer:(None, 28, 28, 64) -> (None, 14, 14, 64):max_pooling2d_2
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 64):dropout_4
INFO:latens:layer:(None, 14, 14, 64) -> (None, 14, 14, 32):conv2d_21
INFO:latens:layer:(None, 14, 14, 32) -> (None, 14, 14, 32):conv2d_22
INFO:latens:layer:(None, 14, 14, 32) -> (None, 7, 7, 32):max_pooling2d_3
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):dropout_5
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_23
INFO:latens:layer:(None, 7, 7, 32) -> (None, 7, 7, 32):conv2d_24
INFO:latens:layer:(None, 7, 7, 32) -> (None, 1568):flatten_1
INFO:latens:layer:(None, 1568) -> (None, 1024):dense_6
INFO:latens:layer:(None, 1024) -> (None, 10):dense_7
2019-03-16 17:09:22.023006: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-03-16 17:09:22.270342: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:08:00.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-03-16 17:09:22.270412: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-03-16 17:09:22.657124: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-03-16 17:09:22.657194: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-03-16 17:09:22.657207: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-03-16 17:09:22.657496: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10758 MB memory) -> physical GPU (device: 0, name: Tesla K80, pci bus id: 0000:08:00.0, compute capability: 3.7)
INFO:latens:test accuracy: 57.7%
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize
INFO:latens:visualizing and saving
INFO:latens:Plotting encoding...
DEBUG:latens:encodings: [[-0.10630204  0.09192346]
 [ 0.58648795  0.61173207]
 [-0.31794474  0.08917618]
 ...
 [ 0.32951447 -0.22894156]
 [-0.02220009 -0.18873315]
 [ 0.27966675 -0.19121373]]
INFO:latens:saving encodings plot to models/unbalanced_mnist_vae_e300_L2_b64/encodings.pdf
INFO:latens:saving successful
INFO:latens:Plotting sampling...
INFO:latens:saving sampling plot to models/unbalanced_mnist_vae_e300_L2_b64/error_sampling_1000.pdf
INFO:latens:saving successful
INFO:latens:saving distribution plot to models/unbalanced_mnist_vae_e300_L2_b64/error_sampling_distribution_1000.pdf
INFO:latens:saving successful
INFO:latens:tensorflow 1.12.0, keras 2.1.6-tf
INFO:latens:command: visualize-classifiers
INFO:latens:saving hist losses plot to models/unbalanced_mnist_vae_e300_L2_b64/classifier_val_losses_1000.pdf
INFO:latens:saving successful
INFO:latens:saving hist losses plot to models/unbalanced_mnist_vae_e300_L2_b64/classifier_val_accs_1000.pdf
INFO:latens:saving successful
INFO:latens:saving hist losses plot to models/unbalanced_mnist_vae_e300_L2_b64/classifier_test_losses_1000.pdf
INFO:latens:saving successful
INFO:latens:saving hist losses plot to models/unbalanced_mnist_vae_e300_L2_b64/classifier_test_accs_1000.pdf
INFO:latens:saving successful
INFO:latens:test accs for vae:[0.9248606687898089, 0.604796974522293, 0.9159036624203821, 0.8965963375796179, 0.9221735668789809, 0.5773288216560509]
